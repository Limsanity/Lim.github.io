<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS设计模式与开发实践笔记 | Lim&#39;s Page</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/zelda.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="192x192" href="/zelda-192.png">
    <meta name="description" content="something about front-end">
    
    <link rel="preload" href="/assets/css/0.styles.8de41c91.css" as="style"><link rel="preload" href="/assets/js/app.750feb0e.js" as="script"><link rel="preload" href="/assets/js/2.51f79b28.js" as="script"><link rel="preload" href="/assets/js/89.b01f6f1b.js" as="script"><link rel="preload" href="/assets/js/10.c677f95a.js" as="script"><link rel="prefetch" href="/assets/js/100.177f514a.js"><link rel="prefetch" href="/assets/js/101.bd0c4e7f.js"><link rel="prefetch" href="/assets/js/102.cadfa153.js"><link rel="prefetch" href="/assets/js/103.2706f2ae.js"><link rel="prefetch" href="/assets/js/104.59af27a1.js"><link rel="prefetch" href="/assets/js/105.6a8045bd.js"><link rel="prefetch" href="/assets/js/106.bd6e128c.js"><link rel="prefetch" href="/assets/js/107.e8ec64a4.js"><link rel="prefetch" href="/assets/js/108.48c5b40e.js"><link rel="prefetch" href="/assets/js/109.1f3ecd2d.js"><link rel="prefetch" href="/assets/js/11.da07f57e.js"><link rel="prefetch" href="/assets/js/110.59ab3d87.js"><link rel="prefetch" href="/assets/js/111.6e505792.js"><link rel="prefetch" href="/assets/js/112.6805675b.js"><link rel="prefetch" href="/assets/js/113.8351e89e.js"><link rel="prefetch" href="/assets/js/114.f8ae045e.js"><link rel="prefetch" href="/assets/js/12.e3689742.js"><link rel="prefetch" href="/assets/js/13.b519f9a3.js"><link rel="prefetch" href="/assets/js/14.53eebcd6.js"><link rel="prefetch" href="/assets/js/15.1d4304e2.js"><link rel="prefetch" href="/assets/js/16.949c7023.js"><link rel="prefetch" href="/assets/js/17.1ebb059b.js"><link rel="prefetch" href="/assets/js/18.70936c5f.js"><link rel="prefetch" href="/assets/js/19.60e280c9.js"><link rel="prefetch" href="/assets/js/20.acc3b53c.js"><link rel="prefetch" href="/assets/js/21.000f9bfe.js"><link rel="prefetch" href="/assets/js/22.dde14540.js"><link rel="prefetch" href="/assets/js/23.91dc37f8.js"><link rel="prefetch" href="/assets/js/24.3356f787.js"><link rel="prefetch" href="/assets/js/25.5aad8683.js"><link rel="prefetch" href="/assets/js/26.147bad61.js"><link rel="prefetch" href="/assets/js/27.d6e6818f.js"><link rel="prefetch" href="/assets/js/28.89264090.js"><link rel="prefetch" href="/assets/js/29.6fa2b213.js"><link rel="prefetch" href="/assets/js/3.e7a2c18f.js"><link rel="prefetch" href="/assets/js/30.0d23825c.js"><link rel="prefetch" href="/assets/js/31.6a3ff0b7.js"><link rel="prefetch" href="/assets/js/32.ee5614c3.js"><link rel="prefetch" href="/assets/js/33.8b077b7f.js"><link rel="prefetch" href="/assets/js/34.2d88a808.js"><link rel="prefetch" href="/assets/js/35.f1eb02ae.js"><link rel="prefetch" href="/assets/js/36.77d7adb2.js"><link rel="prefetch" href="/assets/js/37.6775800c.js"><link rel="prefetch" href="/assets/js/38.fdd1253f.js"><link rel="prefetch" href="/assets/js/39.c62e28db.js"><link rel="prefetch" href="/assets/js/4.6c56feef.js"><link rel="prefetch" href="/assets/js/40.9054f4e2.js"><link rel="prefetch" href="/assets/js/41.e7b94d57.js"><link rel="prefetch" href="/assets/js/42.b1786a78.js"><link rel="prefetch" href="/assets/js/43.1580e7b7.js"><link rel="prefetch" href="/assets/js/44.65ed8576.js"><link rel="prefetch" href="/assets/js/45.36712ec7.js"><link rel="prefetch" href="/assets/js/46.1ccea627.js"><link rel="prefetch" href="/assets/js/47.13942b71.js"><link rel="prefetch" href="/assets/js/48.19830dcb.js"><link rel="prefetch" href="/assets/js/49.09aa6295.js"><link rel="prefetch" href="/assets/js/5.d17b0055.js"><link rel="prefetch" href="/assets/js/50.df95e7c1.js"><link rel="prefetch" href="/assets/js/51.beb07eea.js"><link rel="prefetch" href="/assets/js/52.f599e852.js"><link rel="prefetch" href="/assets/js/53.63bc005f.js"><link rel="prefetch" href="/assets/js/54.8fca02df.js"><link rel="prefetch" href="/assets/js/55.4add5831.js"><link rel="prefetch" href="/assets/js/56.e5bd1172.js"><link rel="prefetch" href="/assets/js/57.b0ef0d61.js"><link rel="prefetch" href="/assets/js/58.0a727eef.js"><link rel="prefetch" href="/assets/js/59.9bbd5c95.js"><link rel="prefetch" href="/assets/js/6.8308d385.js"><link rel="prefetch" href="/assets/js/60.c5256477.js"><link rel="prefetch" href="/assets/js/61.b2709925.js"><link rel="prefetch" href="/assets/js/62.7f88b67a.js"><link rel="prefetch" href="/assets/js/63.f45cc107.js"><link rel="prefetch" href="/assets/js/64.c2272af3.js"><link rel="prefetch" href="/assets/js/65.aa141d4c.js"><link rel="prefetch" href="/assets/js/66.1a0d0448.js"><link rel="prefetch" href="/assets/js/67.1f8281e9.js"><link rel="prefetch" href="/assets/js/68.4327c5c0.js"><link rel="prefetch" href="/assets/js/69.45c10907.js"><link rel="prefetch" href="/assets/js/7.25ac0485.js"><link rel="prefetch" href="/assets/js/70.3057e14c.js"><link rel="prefetch" href="/assets/js/71.5efe1e42.js"><link rel="prefetch" href="/assets/js/72.fc58a760.js"><link rel="prefetch" href="/assets/js/73.5d2dc328.js"><link rel="prefetch" href="/assets/js/74.08d8b949.js"><link rel="prefetch" href="/assets/js/75.f2bb48ad.js"><link rel="prefetch" href="/assets/js/76.96a4273b.js"><link rel="prefetch" href="/assets/js/77.d5877740.js"><link rel="prefetch" href="/assets/js/78.43c99cc0.js"><link rel="prefetch" href="/assets/js/79.bfce4a46.js"><link rel="prefetch" href="/assets/js/8.98216078.js"><link rel="prefetch" href="/assets/js/80.1a4d9abd.js"><link rel="prefetch" href="/assets/js/81.22561592.js"><link rel="prefetch" href="/assets/js/82.ba55ed12.js"><link rel="prefetch" href="/assets/js/83.97fdeadc.js"><link rel="prefetch" href="/assets/js/84.74bc54ee.js"><link rel="prefetch" href="/assets/js/85.86430dd5.js"><link rel="prefetch" href="/assets/js/86.746060ff.js"><link rel="prefetch" href="/assets/js/87.3a394a36.js"><link rel="prefetch" href="/assets/js/88.364afa36.js"><link rel="prefetch" href="/assets/js/9.2f45caf6.js"><link rel="prefetch" href="/assets/js/90.1b8e8891.js"><link rel="prefetch" href="/assets/js/91.1febf461.js"><link rel="prefetch" href="/assets/js/92.92378978.js"><link rel="prefetch" href="/assets/js/93.8fbfafa9.js"><link rel="prefetch" href="/assets/js/94.0cd4c971.js"><link rel="prefetch" href="/assets/js/95.7f7b8f77.js"><link rel="prefetch" href="/assets/js/96.87929228.js"><link rel="prefetch" href="/assets/js/97.87b1c656.js"><link rel="prefetch" href="/assets/js/98.eb84c7b1.js"><link rel="prefetch" href="/assets/js/99.b7d87337.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8de41c91.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Lim's Page</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/Web2/" class="nav-link router-link-active">
  Web2
</a></li><li class="dropdown-item"><!----> <a href="/EnvironmentSetting/" class="nav-link">
  Environment Setting
</a></li><li class="dropdown-item"><!----> <a href="/Kubernetes/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/Sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Limsanity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/Web2/" class="nav-link router-link-active">
  Web2
</a></li><li class="dropdown-item"><!----> <a href="/EnvironmentSetting/" class="nav-link">
  Environment Setting
</a></li><li class="dropdown-item"><!----> <a href="/Kubernetes/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/Sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Limsanity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JS设计模式与开发实践笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第4章-单例模式" class="sidebar-link">第4章 单例模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#实现单例模式" class="sidebar-link">实现单例模式</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#透明的单例模式" class="sidebar-link">透明的单例模式</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#用代理实现单例模式" class="sidebar-link">用代理实现单例模式</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#js中的单例模式" class="sidebar-link">JS中的单例模式</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#惰性单例" class="sidebar-link">惰性单例</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#通用的惰性单例" class="sidebar-link">通用的惰性单例</a></li></ul></li><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第5章-策略模式" class="sidebar-link">第5章 策略模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#多态在策略模式中的体现" class="sidebar-link">多态在策略模式中的体现</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#使用策略模式实现动画" class="sidebar-link">使用策略模式实现动画</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#更广义的-算法" class="sidebar-link">更广义的“算法”</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#使用策略模式实现表单校验" class="sidebar-link">使用策略模式实现表单校验</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#使用策略模式的优缺点" class="sidebar-link">使用策略模式的优缺点</a></li></ul></li><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第6章-代理模式" class="sidebar-link">第6章 代理模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#保护代理和虚拟代理" class="sidebar-link">保护代理和虚拟代理</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#虚拟代理实现图片预加载" class="sidebar-link">虚拟代理实现图片预加载</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#代理的意义" class="sidebar-link">代理的意义</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#代理和本体接口的一致性" class="sidebar-link">代理和本体接口的一致性</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#虚拟代理合并http请求" class="sidebar-link">虚拟代理合并HTTP请求</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#虚拟代理在惰性加载中的应用" class="sidebar-link">虚拟代理在惰性加载中的应用</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#缓存代理" class="sidebar-link">缓存代理</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#用高阶函数动态创建代理" class="sidebar-link">用高阶函数动态创建代理</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#其他代理模式" class="sidebar-link">其他代理模式</a></li></ul></li><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第7章-迭代器模式" class="sidebar-link">第7章 迭代器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#内部迭代器和外部迭代器" class="sidebar-link">内部迭代器和外部迭代器</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#迭代类数组对象或字面量对象" class="sidebar-link">迭代类数组对象或字面量对象</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#倒序迭代器" class="sidebar-link">倒序迭代器</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#终止迭代器" class="sidebar-link">终止迭代器</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#迭代器模式的应用举例" class="sidebar-link">迭代器模式的应用举例</a></li></ul></li><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第8章-发布-订阅模式-观察者模式" class="sidebar-link">第8章 发布-订阅模式 ｜ 观察者模式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第9章-命令模式" class="sidebar-link">第9章 命令模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#命令模式的用途" class="sidebar-link">命令模式的用途</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#命令模式的例子-菜单程序" class="sidebar-link">命令模式的例子——菜单程序</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#javascript中的命令模式" class="sidebar-link">JavaScript中的命令模式</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#撤销命令" class="sidebar-link">撤销命令</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#撤销和重做" class="sidebar-link">撤销和重做</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#命令队列" class="sidebar-link">命令队列</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#宏命令" class="sidebar-link">宏命令</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#智能命令与傻瓜命令" class="sidebar-link">智能命令与傻瓜命令</a></li></ul></li><li><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#第10章-组合模式" class="sidebar-link">第10章 组合模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#组合模式用途" class="sidebar-link">组合模式用途</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#请求在树中传递的过程" class="sidebar-link">请求在树中传递的过程</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#抽象类在组合模式中的作用" class="sidebar-link">抽象类在组合模式中的作用</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#透明性带来的安全问题" class="sidebar-link">透明性带来的安全问题</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#组合模式的例子" class="sidebar-link">组合模式的例子</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#一些值得注意的地方" class="sidebar-link">一些值得注意的地方</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#引用父对象" class="sidebar-link">引用父对象</a></li><li class="sidebar-sub-header"><a href="/Web2/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E7%AC%94%E8%AE%B0.html#何时使用组合模式" class="sidebar-link">何时使用组合模式</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js设计模式与开发实践笔记"><a href="#js设计模式与开发实践笔记" class="header-anchor">#</a> JS设计模式与开发实践笔记</h1> <h2 id="第4章-单例模式"><a href="#第4章-单例模式" class="header-anchor">#</a> 第4章 单例模式</h2> <p><strong>定义</strong>：保证一个类仅有一个实例，并提供全局访问。</p> <p>例如单击登陆按钮，页面中出现的登陆浮窗，适合用单例模式创建。</p> <h3 id="实现单例模式"><a href="#实现单例模式" class="header-anchor">#</a> 实现单例模式</h3> <p>类中添加一个<code>getinstance</code>方法保证单例，但是这样使用起来并不透明，每次都需要调用该方法。</p> <h3 id="透明的单例模式"><a href="#透明的单例模式" class="header-anchor">#</a> 透明的单例模式</h3> <p>通过闭包的方法使得调用方式透明，但是这种方法阅读起来不舒服，并且构造函数做了创建对象和保证只有一个对象两件事，不符合“单一职责原则”的概念。一旦不需要单例模式，就涉及到原构造函数的代码更改，带来不必要的麻烦。</p> <h3 id="用代理实现单例模式"><a href="#用代理实现单例模式" class="header-anchor">#</a> 用代理实现单例模式</h3> <p>原构造函数只负责创建对象，引入一个代理类负责保证只有一个对象。</p> <h3 id="js中的单例模式"><a href="#js中的单例模式" class="header-anchor">#</a> JS中的单例模式</h3> <p>为降低全局变量带来的命名污染，可以通过以下几种方式：</p> <ul><li>使用命名空间</li> <li>使用闭包封装私有变量</li></ul> <h3 id="惰性单例"><a href="#惰性单例" class="header-anchor">#</a> 惰性单例</h3> <p>在需要的时候才创建实例。</p> <h3 id="通用的惰性单例"><a href="#通用的惰性单例" class="header-anchor">#</a> 通用的惰性单例</h3> <p>遵循“单一职责原则”，将管理单例的功能抽象成一个函数，入参为一个创建实例的函数。</p> <h2 id="第5章-策略模式"><a href="#第5章-策略模式" class="header-anchor">#</a> 第5章 策略模式</h2> <p><strong>定义</strong>：定义一系列的算法，把它们一个个封装起来，并且使它们可以相互替换。</p> <h3 id="多态在策略模式中的体现"><a href="#多态在策略模式中的体现" class="header-anchor">#</a> 多态在策略模式中的体现</h3> <p>策略模式中Context不再包含处理各个分支的代码，而是分散给不同的策略对象中，每个对象负责各自的逻辑，每个策略对象根据初始化条件可以相互替代，Context只需要保存策略对象即可。</p> <h3 id="使用策略模式实现动画"><a href="#使用策略模式实现动画" class="header-anchor">#</a> 使用策略模式实现动画</h3> <p><code>linear</code>、<code>easeIn</code>、<code>strongEaseIn</code>、<code>strongEaseOut</code>、<code>sineaseIn</code>、<code>sineaseout</code>共同包含形参：动画已消耗时间、物体原始位置、物体目标位置、动画持续总时间，根据动画名进行策略委托。</p> <h3 id="更广义的-算法"><a href="#更广义的-算法" class="header-anchor">#</a> 更广义的“算法”</h3> <p>只要业务规则指向目标一致，并且可被替换使用，就可以使用策略模式进行封装。</p> <h3 id="使用策略模式实现表单校验"><a href="#使用策略模式实现表单校验" class="header-anchor">#</a> 使用策略模式实现表单校验</h3> <h3 id="使用策略模式的优缺点"><a href="#使用策略模式的优缺点" class="header-anchor">#</a> 使用策略模式的优缺点</h3> <p>优点</p> <ul><li>利用了组合、委托和多态的技术思想，有效避免多重条件选择语句</li> <li>提供了开发-封闭的原则，算法封装在各个策略对象中，使得彼此易于切换、理解、扩展</li> <li>提高了复用</li></ul> <p>缺点</p> <ul><li>需要了解不同的策略对象之间的差异才能选择合适的策略，违反最少知识原则</li></ul> <h2 id="第6章-代理模式"><a href="#第6章-代理模式" class="header-anchor">#</a> 第6章 代理模式</h2> <p><strong>定义</strong>：为一个对象提供一个代用品或占位符，以便控制对它的访问。</p> <h3 id="保护代理和虚拟代理"><a href="#保护代理和虚拟代理" class="header-anchor">#</a> 保护代理和虚拟代理</h3> <p>保护代理可以用于控制不同权限的对象对目标对象的访问。</p> <p>虚拟代理可以代理开销很大的对象，延迟到真正需要它的时候才创建。</p> <h3 id="虚拟代理实现图片预加载"><a href="#虚拟代理实现图片预加载" class="header-anchor">#</a> 虚拟代理实现图片预加载</h3> <p>通过loading图作为代理对象，待真正的图片加载完成后才开始使用其src。</p> <h3 id="代理的意义"><a href="#代理的意义" class="header-anchor">#</a> 代理的意义</h3> <p>单一职责原则：就一个类而言，应该仅有一个引起它变化的原因。</p> <p>例如代理实现图片预加载中，原本的类要负责img节点设置src和预加载图片，将预加载的实现通过代理完成可以解耦。如果不需要预加载时，使用代理也不再需要更改原类中的代码。</p> <h3 id="代理和本体接口的一致性"><a href="#代理和本体接口的一致性" class="header-anchor">#</a> 代理和本体接口的一致性</h3> <p>代理接手的过程对用户来说是透明的，接口一致性好处有两点：</p> <ul><li>用户可以放心请求代理，只关心结果</li> <li>在任何使用本体的地方都可以替换成使用代理</li></ul> <h3 id="虚拟代理合并http请求"><a href="#虚拟代理合并http请求" class="header-anchor">#</a> 虚拟代理合并HTTP请求</h3> <p>例如有一个文件列表，每点击一个文件的发送按钮就会将该文件发送到服务器，点击按钮这个操作可能在1s内出发多次，但是每点击一次就发送一次会造成较多的网络开销。可以使用一个虚拟代理，收集2s内需要发送的文件，然后进行批量发送。</p> <h3 id="虚拟代理在惰性加载中的应用"><a href="#虚拟代理在惰性加载中的应用" class="header-anchor">#</a> 虚拟代理在惰性加载中的应用</h3> <p>miniConsole通过缓存队列缓存参数实现惰性加载。</p> <h3 id="缓存代理"><a href="#缓存代理" class="header-anchor">#</a> 缓存代理</h3> <ul><li><p>计算乘积</p></li> <li><p>ajax异步请求数据</p></li></ul> <h3 id="用高阶函数动态创建代理"><a href="#用高阶函数动态创建代理" class="header-anchor">#</a> 用高阶函数动态创建代理</h3> <h3 id="其他代理模式"><a href="#其他代理模式" class="header-anchor">#</a> 其他代理模式</h3> <ul><li>防火墙代理：控制网络资源访问</li> <li>远程代理：为一个对象在不同地址空间提供局部代表</li> <li>保护代理：限制不同访问权限</li> <li>智能引用代理：取代了简单的指针，在访问对象时执行一些附加操作，例如计算一个对象被引用的次数</li> <li>写时复制代理：通常用于复制一个庞大对象的情况，写时复制代理延迟了复制的过程，只有对象被修改了才会对其进行复制。</li></ul> <h2 id="第7章-迭代器模式"><a href="#第7章-迭代器模式" class="header-anchor">#</a> 第7章 迭代器模式</h2> <p><strong>定义</strong>：提供一种方法顺序访问一个聚合对象的各个元素，而又不需要暴露对象的内部表示。</p> <h3 id="内部迭代器和外部迭代器"><a href="#内部迭代器和外部迭代器" class="header-anchor">#</a> 内部迭代器和外部迭代器</h3> <ul><li>内部迭代器调用时非常方便，外界无需关注迭代器内部的实现，跟迭代器的交互仅在一次初始调用。但这样缺乏了一些灵活性，例如无法决定何时进行下一次迭代。</li> <li>外部迭代器必须显示请求迭代下一次元素，增加了一定的复杂性，但是比较灵活。</li></ul> <h3 id="迭代类数组对象或字面量对象"><a href="#迭代类数组对象或字面量对象" class="header-anchor">#</a> 迭代类数组对象或字面量对象</h3> <p>只要有length属性并且允许下标访问，就可以进行迭代。</p> <h3 id="倒序迭代器"><a href="#倒序迭代器" class="header-anchor">#</a> 倒序迭代器</h3> <h3 id="终止迭代器"><a href="#终止迭代器" class="header-anchor">#</a> 终止迭代器</h3> <p>callback函数执行结果如果为false，可以决定跳出迭代。</p> <h3 id="迭代器模式的应用举例"><a href="#迭代器模式的应用举例" class="header-anchor">#</a> 迭代器模式的应用举例</h3> <p>例如文件上传存在不同对象，例如IE中的ActiveObject、Flash插件、原生表单，如果通过if else进行判断则会违反开放封闭原则，开发者需要关注内部实现并且代码难以阅读、维护。通过迭代器模式，将兼容判断逻辑分发给各个对象，可以简化调用过程，并且可以随时新增一个新的对象，遵循开放封闭原则。</p> <p><strong>开发封闭原则</strong>：对修改封闭，对扩展开放。</p> <h2 id="第8章-发布-订阅模式-观察者模式"><a href="#第8章-发布-订阅模式-观察者模式" class="header-anchor">#</a> 第8章 发布-订阅模式 ｜ 观察者模式</h2> <p><strong>定义</strong>：对象间存在一种一对多的关系，当一个对象的状态发生改变时，所有依赖它的对象都将得到通知。</p> <h2 id="第9章-命令模式"><a href="#第9章-命令模式" class="header-anchor">#</a> 第9章 命令模式</h2> <p>定义：请求以命令的形式包裹在对象中，并传给调用对象。调用对象寻找可以处理该命令的合适的对象，并把该命令传给相应的对象，该对象执行命令。</p> <h3 id="命令模式的用途"><a href="#命令模式的用途" class="header-anchor">#</a> 命令模式的用途</h3> <p>应用场景：有时候需要向某些对象发送请求，但是并不知道请求的接收 者是谁，也不知道被请求的操作是什么。此时希望用一种松耦合的方式来设计程序，使得请求发送者和请求接收者能够消除彼此之间的耦合关系。</p> <h3 id="命令模式的例子-菜单程序"><a href="#命令模式的例子-菜单程序" class="header-anchor">#</a> 命令模式的例子——菜单程序</h3> <p>描述：某个用户界面存在数十个Button，因此决定让一部分人完成Button的样式，一部分人完成点击Button之后执行的逻辑。</p> <p>设计按钮的人并不知道按下这个按钮之后会发生什么事情，因此只需要预留一个点击接口setCommand，该接口接受一个Button和一个Command对象，点击Button之后就执行Command对象的execute方法。负责逻辑功能的人只需要将相应的功能封装到一个Command对象中即可。</p> <h3 id="javascript中的命令模式"><a href="#javascript中的命令模式" class="header-anchor">#</a> JavaScript中的命令模式</h3> <p>execute方法只是一个约定，在JS中也可以直接传入一个函数而不是Command对象，该函数利用闭包的性质。</p> <h3 id="撤销命令"><a href="#撤销命令" class="header-anchor">#</a> 撤销命令</h3> <p>需要记录命令执行前的状态，提供一个undo接口。</p> <h3 id="撤销和重做"><a href="#撤销和重做" class="header-anchor">#</a> 撤销和重做</h3> <p>撤销一系列命令，有时候通过undo无法完成，例如canvas擦除某条曲线比较困难。可以选择记录历史操作，然后重做。</p> <h3 id="命令队列"><a href="#命令队列" class="header-anchor">#</a> 命令队列</h3> <p>例如动画按钮，用户可能连续点击多次；可以将多个命令对象保存在队列中，待一个完成后再执行下一个。</p> <h3 id="宏命令"><a href="#宏命令" class="header-anchor">#</a> 宏命令</h3> <p>宏命令是命令模式和组合模式的联合产物。</p> <h3 id="智能命令与傻瓜命令"><a href="#智能命令与傻瓜命令" class="header-anchor">#</a> 智能命令与傻瓜命令</h3> <h2 id="第10章-组合模式"><a href="#第10章-组合模式" class="header-anchor">#</a> 第10章 组合模式</h2> <h3 id="组合模式用途"><a href="#组合模式用途" class="header-anchor">#</a> 组合模式用途</h3> <ul><li>表示树形结构。
<ul><li>程序递归调用组合对象下面叶子对象的execute方法。</li></ul></li> <li>利用对象多态性统一对待组合对象和单个对象。
<ul><li>调用者无需关心它是组合对象还是单个对象，只需调用execute方法。</li></ul></li></ul> <h3 id="请求在树中传递的过程"><a href="#请求在树中传递的过程" class="header-anchor">#</a> 请求在树中传递的过程</h3> <p>以宏命令为例，如果当前处理的对象是组合对象，则遍历其子节点；如果当前处理对象是叶对象，则叶对象自动对请求做相应处理。</p> <h3 id="抽象类在组合模式中的作用"><a href="#抽象类在组合模式中的作用" class="header-anchor">#</a> 抽象类在组合模式中的作用</h3> <p>父对象和子对象都拥有相同的方法，因此可以使用一个抽象类进行约定，实现该抽象类的类必须实现对应的抽象方法。</p> <h3 id="透明性带来的安全问题"><a href="#透明性带来的安全问题" class="header-anchor">#</a> 透明性带来的安全问题</h3> <p>叶对象负责具体的实现，和组合对象负责添加子节点和遍历子节点。如果对叶对象进行add方法调用是不合适，因此可以在其add方法中抛出错误。</p> <h3 id="组合模式的例子"><a href="#组合模式的例子" class="header-anchor">#</a> 组合模式的例子</h3> <ul><li>扫描文件夹</li></ul> <h3 id="一些值得注意的地方"><a href="#一些值得注意的地方" class="header-anchor">#</a> 一些值得注意的地方</h3> <ul><li><p>组合模式不是父子关系</p></li> <li><p>对叶对象操作的一致性</p></li> <li><p>双向映射关系</p></li> <li><p>用职责链模式提高组合模式性能</p></li></ul> <h3 id="引用父对象"><a href="#引用父对象" class="header-anchor">#</a> 引用父对象</h3> <ul><li>职责链</li> <li>文件删除</li></ul> <h3 id="何时使用组合模式"><a href="#何时使用组合模式" class="header-anchor">#</a> 何时使用组合模式</h3> <ul><li>表示对象的部分-整体层次结构。</li> <li>客户希望统一对待树中的所有对象。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.750feb0e.js" defer></script><script src="/assets/js/2.51f79b28.js" defer></script><script src="/assets/js/89.b01f6f1b.js" defer></script><script src="/assets/js/10.c677f95a.js" defer></script>
  </body>
</html>
