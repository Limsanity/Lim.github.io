<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GraphQL in Action | Lim&#39;s Page</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/zelda.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="192x192" href="/zelda-192.png">
    <meta name="description" content="something about front-end">
    
    <link rel="preload" href="/assets/css/0.styles.8de41c91.css" as="style"><link rel="preload" href="/assets/js/app.750feb0e.js" as="script"><link rel="preload" href="/assets/js/2.51f79b28.js" as="script"><link rel="preload" href="/assets/js/87.3a394a36.js" as="script"><link rel="preload" href="/assets/js/10.c677f95a.js" as="script"><link rel="prefetch" href="/assets/js/100.177f514a.js"><link rel="prefetch" href="/assets/js/101.bd0c4e7f.js"><link rel="prefetch" href="/assets/js/102.cadfa153.js"><link rel="prefetch" href="/assets/js/103.2706f2ae.js"><link rel="prefetch" href="/assets/js/104.59af27a1.js"><link rel="prefetch" href="/assets/js/105.6a8045bd.js"><link rel="prefetch" href="/assets/js/106.bd6e128c.js"><link rel="prefetch" href="/assets/js/107.e8ec64a4.js"><link rel="prefetch" href="/assets/js/108.48c5b40e.js"><link rel="prefetch" href="/assets/js/109.1f3ecd2d.js"><link rel="prefetch" href="/assets/js/11.da07f57e.js"><link rel="prefetch" href="/assets/js/110.59ab3d87.js"><link rel="prefetch" href="/assets/js/111.6e505792.js"><link rel="prefetch" href="/assets/js/112.6805675b.js"><link rel="prefetch" href="/assets/js/113.8351e89e.js"><link rel="prefetch" href="/assets/js/114.f8ae045e.js"><link rel="prefetch" href="/assets/js/12.e3689742.js"><link rel="prefetch" href="/assets/js/13.b519f9a3.js"><link rel="prefetch" href="/assets/js/14.53eebcd6.js"><link rel="prefetch" href="/assets/js/15.1d4304e2.js"><link rel="prefetch" href="/assets/js/16.949c7023.js"><link rel="prefetch" href="/assets/js/17.1ebb059b.js"><link rel="prefetch" href="/assets/js/18.70936c5f.js"><link rel="prefetch" href="/assets/js/19.60e280c9.js"><link rel="prefetch" href="/assets/js/20.acc3b53c.js"><link rel="prefetch" href="/assets/js/21.000f9bfe.js"><link rel="prefetch" href="/assets/js/22.dde14540.js"><link rel="prefetch" href="/assets/js/23.91dc37f8.js"><link rel="prefetch" href="/assets/js/24.3356f787.js"><link rel="prefetch" href="/assets/js/25.5aad8683.js"><link rel="prefetch" href="/assets/js/26.147bad61.js"><link rel="prefetch" href="/assets/js/27.d6e6818f.js"><link rel="prefetch" href="/assets/js/28.89264090.js"><link rel="prefetch" href="/assets/js/29.6fa2b213.js"><link rel="prefetch" href="/assets/js/3.e7a2c18f.js"><link rel="prefetch" href="/assets/js/30.0d23825c.js"><link rel="prefetch" href="/assets/js/31.6a3ff0b7.js"><link rel="prefetch" href="/assets/js/32.ee5614c3.js"><link rel="prefetch" href="/assets/js/33.8b077b7f.js"><link rel="prefetch" href="/assets/js/34.2d88a808.js"><link rel="prefetch" href="/assets/js/35.f1eb02ae.js"><link rel="prefetch" href="/assets/js/36.77d7adb2.js"><link rel="prefetch" href="/assets/js/37.6775800c.js"><link rel="prefetch" href="/assets/js/38.fdd1253f.js"><link rel="prefetch" href="/assets/js/39.c62e28db.js"><link rel="prefetch" href="/assets/js/4.6c56feef.js"><link rel="prefetch" href="/assets/js/40.9054f4e2.js"><link rel="prefetch" href="/assets/js/41.e7b94d57.js"><link rel="prefetch" href="/assets/js/42.b1786a78.js"><link rel="prefetch" href="/assets/js/43.1580e7b7.js"><link rel="prefetch" href="/assets/js/44.65ed8576.js"><link rel="prefetch" href="/assets/js/45.36712ec7.js"><link rel="prefetch" href="/assets/js/46.1ccea627.js"><link rel="prefetch" href="/assets/js/47.13942b71.js"><link rel="prefetch" href="/assets/js/48.19830dcb.js"><link rel="prefetch" href="/assets/js/49.09aa6295.js"><link rel="prefetch" href="/assets/js/5.d17b0055.js"><link rel="prefetch" href="/assets/js/50.df95e7c1.js"><link rel="prefetch" href="/assets/js/51.beb07eea.js"><link rel="prefetch" href="/assets/js/52.f599e852.js"><link rel="prefetch" href="/assets/js/53.63bc005f.js"><link rel="prefetch" href="/assets/js/54.8fca02df.js"><link rel="prefetch" href="/assets/js/55.4add5831.js"><link rel="prefetch" href="/assets/js/56.e5bd1172.js"><link rel="prefetch" href="/assets/js/57.b0ef0d61.js"><link rel="prefetch" href="/assets/js/58.0a727eef.js"><link rel="prefetch" href="/assets/js/59.9bbd5c95.js"><link rel="prefetch" href="/assets/js/6.8308d385.js"><link rel="prefetch" href="/assets/js/60.c5256477.js"><link rel="prefetch" href="/assets/js/61.b2709925.js"><link rel="prefetch" href="/assets/js/62.7f88b67a.js"><link rel="prefetch" href="/assets/js/63.f45cc107.js"><link rel="prefetch" href="/assets/js/64.c2272af3.js"><link rel="prefetch" href="/assets/js/65.aa141d4c.js"><link rel="prefetch" href="/assets/js/66.1a0d0448.js"><link rel="prefetch" href="/assets/js/67.1f8281e9.js"><link rel="prefetch" href="/assets/js/68.4327c5c0.js"><link rel="prefetch" href="/assets/js/69.45c10907.js"><link rel="prefetch" href="/assets/js/7.25ac0485.js"><link rel="prefetch" href="/assets/js/70.3057e14c.js"><link rel="prefetch" href="/assets/js/71.5efe1e42.js"><link rel="prefetch" href="/assets/js/72.fc58a760.js"><link rel="prefetch" href="/assets/js/73.5d2dc328.js"><link rel="prefetch" href="/assets/js/74.08d8b949.js"><link rel="prefetch" href="/assets/js/75.f2bb48ad.js"><link rel="prefetch" href="/assets/js/76.96a4273b.js"><link rel="prefetch" href="/assets/js/77.d5877740.js"><link rel="prefetch" href="/assets/js/78.43c99cc0.js"><link rel="prefetch" href="/assets/js/79.bfce4a46.js"><link rel="prefetch" href="/assets/js/8.98216078.js"><link rel="prefetch" href="/assets/js/80.1a4d9abd.js"><link rel="prefetch" href="/assets/js/81.22561592.js"><link rel="prefetch" href="/assets/js/82.ba55ed12.js"><link rel="prefetch" href="/assets/js/83.97fdeadc.js"><link rel="prefetch" href="/assets/js/84.74bc54ee.js"><link rel="prefetch" href="/assets/js/85.86430dd5.js"><link rel="prefetch" href="/assets/js/86.746060ff.js"><link rel="prefetch" href="/assets/js/88.364afa36.js"><link rel="prefetch" href="/assets/js/89.b01f6f1b.js"><link rel="prefetch" href="/assets/js/9.2f45caf6.js"><link rel="prefetch" href="/assets/js/90.1b8e8891.js"><link rel="prefetch" href="/assets/js/91.1febf461.js"><link rel="prefetch" href="/assets/js/92.92378978.js"><link rel="prefetch" href="/assets/js/93.8fbfafa9.js"><link rel="prefetch" href="/assets/js/94.0cd4c971.js"><link rel="prefetch" href="/assets/js/95.7f7b8f77.js"><link rel="prefetch" href="/assets/js/96.87929228.js"><link rel="prefetch" href="/assets/js/97.87b1c656.js"><link rel="prefetch" href="/assets/js/98.eb84c7b1.js"><link rel="prefetch" href="/assets/js/99.b7d87337.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8de41c91.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Lim's Page</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/Web2/" class="nav-link router-link-active">
  Web2
</a></li><li class="dropdown-item"><!----> <a href="/EnvironmentSetting/" class="nav-link">
  Environment Setting
</a></li><li class="dropdown-item"><!----> <a href="/Kubernetes/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/Sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Limsanity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/Web2/" class="nav-link router-link-active">
  Web2
</a></li><li class="dropdown-item"><!----> <a href="/EnvironmentSetting/" class="nav-link">
  Environment Setting
</a></li><li class="dropdown-item"><!----> <a href="/Kubernetes/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/Sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Limsanity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Web2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Web2/Cypress.html" class="sidebar-link">Cypress</a></li><li><a href="/Web2/Daily.html" class="sidebar-link">Daily</a></li><li><a href="/Web2/ES6学习笔记.html" class="sidebar-link">ES6学习笔记</a></li><li><a href="/Web2/GraphQL in Action.html" class="active sidebar-link">GraphQL in Action</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/GraphQL in Action.html#introduction-to-graphql" class="sidebar-link">Introduction to GraphQL</a></li><li class="sidebar-sub-header"><a href="/Web2/GraphQL in Action.html#exploring-graphql-apis" class="sidebar-link">Exploring GraphQL APIs</a></li><li class="sidebar-sub-header"><a href="/Web2/GraphQL in Action.html#customizing-and-organizing-graphql-operations" class="sidebar-link">Customizing and Organizing GraphQL Operations</a></li></ul></li><li><a href="/Web2/JS数据结构与算法.html" class="sidebar-link">JS数据结构与算法</a></li><li><a href="/Web2/JS设计模式与开发实践笔记.html" class="sidebar-link">JS设计模式与开发实践笔记</a></li><li><a href="/Web2/JWT.html" class="sidebar-link">JWT</a></li><li><a href="/Web2/NestJS-Question.html" class="sidebar-link">NestJS Question</a></li><li><a href="/Web2/NestJS.html" class="sidebar-link">NestJS</a></li><li><a href="/Web2/Nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/Web2/Nuxt容器化过程中引发的疑问.html" class="sidebar-link">Nuxt容器化过程中引发的疑问</a></li><li><a href="/Web2/OAuth.html" class="sidebar-link">OAuth</a></li><li><a href="/Web2/PostgreSQL.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/Web2/React.html" class="sidebar-link">React</a></li><li><a href="/Web2/Sentry文档.html" class="sidebar-link">Sentry文档</a></li><li><a href="/Web2/Svelte Component开发初识.html" class="sidebar-link">Svelte Component开发初识</a></li><li><a href="/Web2/Travis CI使用注意事项.html" class="sidebar-link">Travis CI使用注意事项</a></li><li><a href="/Web2/Tree shaking.html" class="sidebar-link">Tree shaking</a></li><li><a href="/Web2/TypeScript-Question.html" class="sidebar-link">TypeScript Question</a></li><li><a href="/Web2/Umi经验总结.html" class="sidebar-link">Umi经验总结</a></li><li><a href="/Web2/XSS防御.html" class="sidebar-link">XSS防御</a></li><li><a href="/Web2/You Don‘t Know JS.html" class="sidebar-link">You Don‘t Know JS</a></li><li><a href="/Web2/lhci-ci集成初探.html" class="sidebar-link">lhci-ci集成初探</a></li><li><a href="/Web2/rollup打包过程中alias与TS插件顺序引发的问题.html" class="sidebar-link">rollup打包过程中alias与TS插件顺序引发的问题</a></li><li><a href="/Web2/typescript-handbook学习笔记.html" class="sidebar-link">TypeScript Handbook笔记</a></li><li><a href="/Web2/使用 wrk 进行压测.html" class="sidebar-link">Windows 中使用 wrk 进行压测</a></li><li><a href="/Web2/关于Vue的疑问.html" class="sidebar-link">关于Vue的疑问</a></li><li><a href="/Web2/函数式编程.html" class="sidebar-link">函数式编程</a></li><li><a href="/Web2/微前端.html" class="sidebar-link">微前端</a></li><li><a href="/Web2/快速生成模板文件.html" class="sidebar-link">基于Plop快速生成模板文件</a></li><li><a href="/Web2/模块化和组件化.html" class="sidebar-link">模块化和组件化</a></li><li><a href="/Web2/深入浅出VueJS.html" class="sidebar-link">深入浅出VueJS</a></li><li><a href="/Web2/理解Babel.html" class="sidebar-link">理解Babel</a></li><li><a href="/Web2/理解IOC.html" class="sidebar-link">理解IOC</a></li><li><a href="/Web2/集成lighthouse-ci.html" class="sidebar-link">集成lighthouse-ci</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="graphql-in-action"><a href="#graphql-in-action" class="header-anchor">#</a> GraphQL in Action</h1> <h2 id="introduction-to-graphql"><a href="#introduction-to-graphql" class="header-anchor">#</a> Introduction to GraphQL</h2> <h3 id="what-is-graphql"><a href="#what-is-graphql" class="header-anchor">#</a> What is GraphQL</h3> <h4 id="the-big-picture"><a href="#the-big-picture" class="header-anchor">#</a> The Big picture</h4> <ul><li>GraphQL allows clients to ask for the exact data they need and make it easier for servers to aggregate data from multiple data storage resources.</li> <li>Type system ensure that the clients ask for only what is possible and provide clear and helpful errors. Clients can use types to minimize any manual parsing of data elemetns.</li></ul> <h4 id="graphql-is-a-specification"><a href="#graphql-is-a-specification" class="header-anchor">#</a> GraphQL is a specification</h4> <p><a href="http://spec.graphql.org/" target="_blank" rel="noopener noreferrer">GraphQL Spec<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>The syntax between languages may be different, but the rules and practices remain the same.</li> <li>You can ultimately learn EVERYTHING about the GraphQL language and runtime requirements in that official specification document.</li> <li>Alongside the specification document, Facebook alse released a reference implementation libary for GraphQL runtimes in JS, which is hosted at https://github.com/graphql/graphql-js.</li></ul> <h4 id="graphql-is-a-language"><a href="#graphql-is-a-language" class="header-anchor">#</a> GraphQL is a language</h4> <ul><li>Queries represent READ operation. Mutations represent WRITE-then-READ operations. You can simply think of mutations as &quot;queries that have side effects&quot;.</li> <li>GraphQL also supports a third request type which is called a subscription and it's used for real-time data monitoring requests.</li> <li>GraphQL is a declarative language. It is structured language that computers can easily parse and use.</li></ul> <h4 id="graphql-is-a-service"><a href="#graphql-is-a-service" class="header-anchor">#</a> GraphQL is a service</h4> <ul><li><p>A GraphQL service can be written in any programming language and it can be conceptually split into two major parts: structure and behavior.</p> <ul><li>The structure is defined with a strongly-type shcema. The <strong>schema</strong> is basically a graphql of <strong>fields</strong> which have <strong>types</strong>.</li> <li>The behavior is naturally implemented with functions that in the GraphQL world are named <strong>resolve functions</strong>.</li></ul></li> <li><p>A resolver function is where we give instructions for the runtime service about how and where to access the raw data.</p></li> <li><p>GraphQL service traverses the tree of fields in the request and invokes the resolver function associated with each field in it. It'll then gather the data returned by these resolver fucntions and use it to form a single response.</p></li></ul> <h3 id="why-graphql"><a href="#why-graphql" class="header-anchor">#</a> Why GraphQL</h3> <p>If you ask me to answer the &quot;Why GraphQL&quot; question with just a single word, that word would be : <strong>Standards</strong>.</p> <p>GraphQL provides standards and structures to implement API features in maintainable and scalable ways whil the other alternatives lack such standards.</p> <p>GraphQL documentation is built-in and it's first class.</p> <p>It basically decouples clients from servers and allows both of them to evelve and scale independently. This enable much faster iteration in both frontend and backend products.</p> <p>With GraphQL, you can basically shift this multi-request complexity to the backend and have your GraphQL runtime deal with it.</p> <p>It improves frontend DX. There is a tight relationship between what data is needed by a UI and the way a developer can express a description of that data need in GraphQL.</p> <h4 id="what-about-rest-apis"><a href="#what-about-rest-apis" class="header-anchor">#</a> What about REST APIs?</h4> <p>The biggest &quot;relevant&quot; problem with REST APIs here is the clients' need to communicate with multiple data API endpoints. Another big problem is, especially for mobile applications, mobile devices usually have processing, memory, and network constraints.</p> <p>In a pure REST API a client cannot specify which fields to select for a record in that resource, which is also known as <strong>over-fetching</strong>.</p> <p>One other big problem with REST APIs is versioning. If you need to support multiple versions that usually means new endpoints. This leads to more problem while using and maintaing these endpoints and it might be the cause of code duplication on the server.</p> <p>Caching a REST API response is a lot easier than caching a GraphQL API response.</p> <p>Optimizing the code for a REST endpoint is potentially a lot easier than optimizing the code for a generic single endpoint.</p> <h4 id="the-graphql-way"><a href="#the-graphql-way" class="header-anchor">#</a> The GraphQL Way</h4> <p>The concepts and design decisions behind GraphQL:</p> <ol><li>The Typed Graph Schema</li> <li>The Declarative Language</li> <li>The Single Endpoint and the Client Language
<ul><li>Having clients asking for exactly what they need enables backend developers to have more useful analytics of what data is being used and what parts of the data is in higher demand. This is very useful data, which can be used to scale and optimize the data services based on usage patterns.</li></ul></li> <li>The Simple Versioning
<ul><li>This is especially important for mobile clients because you cannot control the version of the API they are using.</li></ul></li></ol> <h4 id="rest-apis-and-graphql-apis-in-action"><a href="#rest-apis-and-graphql-apis-in-action" class="header-anchor">#</a> REST APIs and GraphQL APIs in action</h4> <h3 id="graphql-problems"><a href="#graphql-problems" class="header-anchor">#</a> GraphQL Problems</h3> <h4 id="security"><a href="#security" class="header-anchor">#</a> Security</h4> <p>One important threat that GraphQL makes easier is resource exhaustion attacks (AKA Denial of Service attacks). It is very simple to query for deep nested relationships or use field aliases to ask for the same field many times.</p> <p>You can implement cost analysis on the query in advance and enforce some kind of limits on the amount of data one can consume. You can also implement a time-out to kill requests that take too long to resolve. Also, since a GraphQL service is just one layer in any application stack, you can handle the rate limits enforcement at a lower level under GraphQL.</p> <p>Authentication and authorization are other concerns that you need to think about when working with GraphQL.</p> <h4 id="caching-and-optimizing"><a href="#caching-and-optimizing" class="header-anchor">#</a> Caching and Optimizing</h4> <p>With GraphQL, you can adopt a similar basic approach and use the query text as a key to cache its response. But this approach is limited, not very efficient, and can cause problems with data consistency. The results of multiple GraphQL queries can easily overlap and this basic caching approach would not account for the overlap.</p> <p>There is a brilliant solution to this problem. A Graph Query means a <em>Graph Cache</em>. If you normalize a GraphQL query response into a flat collection of records and give each record a global unique ID, you can cache those records instead of caching the full responses.</p> <p>One of the other most &quot;famous&quot; problems that you would encounter when working with GraphQL is the problem that is commonly referred to as N+1 SQL queries.</p> <p>Luckily, Facebook is pioneering one possible solution to both the caching problem and the data-loading-optimization problem. It’s called DataLoader. DataLoader uses a combination of batching and caching to accomplish that.</p> <h4 id="learning-curve"><a href="#learning-curve" class="header-anchor">#</a> Learning Curve</h4> <p>A developer writing a GraphQL-based frontend application will have to learn the syntax of the GraphQL language.  A developer implementing a GraphQL backend service will have to learn a lot more than just the language.</p> <h2 id="exploring-graphql-apis"><a href="#exploring-graphql-apis" class="header-anchor">#</a> Exploring GraphQL APIs</h2> <p>This chapter covers:</p> <ul><li>Using GraphQL's in-browser IDE to test GraphQL requests</li> <li>Exploring the fundamentals of sending GraphQL data requests</li> <li>Exploring read and write example operations from the GitHub GraphQL API</li> <li>Exploring GraphQL's introspective features</li> <li>Exploring auto-generated GraphQL APIs</li></ul> <h3 id="the-graphiql-editor"><a href="#the-graphiql-editor" class="header-anchor">#</a> The GraphiQL Editor</h3> <p>GraphiQL can help you improve these requests, validate your improvements, and debug any of the requeststhat are running into problems.</p> <h3 id="the-basics-of-the-graphql-language"><a href="#the-basics-of-the-graphql-language" class="header-anchor">#</a> The Basics of the GraphQL Language</h3> <p>A GraphQL request is a tree of <strong>fields</strong>.</p> <h4 id="requests"><a href="#requests" class="header-anchor">#</a> Requests</h4> <p>The source text of a GraphQL request is often referred to as a <strong>document</strong>.</p> <p>A GraphQL request might also contain an object to represent values of variables that might be used in the request document text. The request might also include meta information about the operations. For example, if the request document contains more than one operation, a GraphQL request must include information about which operation to execute. If the request document contains only one operation, the GraphQL server will just execute that.</p> <p>There are three types of operations that can be used in GraphQL:</p> <ul><li>Query operations that represent a read-only fetch</li> <li>Mutation operations that reprpesent a write followed by a fetch</li> <li>Subscription operations that repesent a request for real-time data updates</li></ul> <h4 id="fields"><a href="#fields" class="header-anchor">#</a> Fields</h4> <p>A field in GraphQL describes on discrete piece of information that you can retrieve about an object. It could describe a scalar value, an object, a list of objects.</p> <p>You can also cusomize a GraphQL schema to support more scalar values with certain formats.</p> <h3 id="examples-from-the-github-api"><a href="#examples-from-the-github-api" class="header-anchor">#</a> Examples from the GitHub API</h3> <h4 id="introspective-queries"><a href="#introspective-queries" class="header-anchor">#</a> Introspective Queries</h4> <h2 id="customizing-and-organizing-graphql-operations"><a href="#customizing-and-organizing-graphql-operations" class="header-anchor">#</a> Customizing and Organizing GraphQL Operations</h2> <p>This chapter covers:</p> <ul><li>Using arguments to customize what a field in a GraphQL request returns</li> <li>Using aliases to customize the property namesin a response object</li> <li>Using directives to describe alternate runtime executions</li> <li>Using fragments to reduce any duplicated text in a GraphQL document</li> <li>Composing queries and separating data requirement responsibilities</li> <li>Using inline fragments with interfaces and unions</li></ul> <h3 id="customizing-fields-with-arguments"><a href="#customizing-fields-with-arguments" class="header-anchor">#</a> Customizing Fields with Arguments</h3> <h4 id="identifying-a-single-record-to-return"><a href="#identifying-a-single-record-to-return" class="header-anchor">#</a> Identifying a single record to return</h4> <div class="language- extra-class"><pre class="language-text"><code>query UserInfo {
  user(email: &quot;jane@doe.name&quot;) {
  	firstName
  	lastName
  	userName
  }
}
</code></pre></div><h4 id="limiting-the-number-of-records-returned-by-a-list-field"><a href="#limiting-the-number-of-records-returned-by-a-list-field" class="header-anchor">#</a> Limiting the number of records returned by a list field</h4> <div class="language- extra-class"><pre class="language-text"><code>query First10Repos {
  organization(login: &quot;facebook&quot;) {
    name
    description
    websiteUrl
    repositories(first: 10) {
      nodes {
        name
      }
    }
  }
}
</code></pre></div><h4 id="ordering-records-returned-by-a-list-field"><a href="#ordering-records-returned-by-a-list-field" class="header-anchor">#</a> Ordering records returned by a list field</h4> <div class="language- extra-class"><pre class="language-text"><code>query orgReposByName {
  organization(login: &quot;facebook&quot;) {
    repositories(first:10, orderBy:{field: NAME, direction: ASC}) {
      nodes {
        name
      }
    }
  }
}
</code></pre></div><h4 id="paginating-through-a-list-of-records"><a href="#paginating-through-a-list-of-records" class="header-anchor">#</a> Paginating through a list of records</h4> <div class="language- extra-class"><pre class="language-text"><code>query OrgRepoConnectionExample {
  organization(login: &quot;facebook&quot;) {
    repositories(first:10, orderBy:{field: STARGAZERS, direction: DESC}) {
      edges {
        cursor
        node {
          name
        }
      }
    }
  }
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>query OrgReposMetaInfoExample {
  organization(login: &quot;facebook&quot;) {
    repositories(
      first: 10,
      after: &quot;Y3Vyc29yOnYyOpLNOE7OAeErrQ==&quot;,
      orderBy: {field: STARGAZERS, direction: DESC}
    ) {
      totalCount
      pageInfo {
        hasNextPage
      }
      edges {
        cursor
        node {
          name
        }
      }
    }
  }
}
</code></pre></div><h4 id="searching-and-filtering"><a href="#searching-and-filtering" class="header-anchor">#</a> Searching and filtering</h4></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Web2/ES6学习笔记.html" class="prev">
        ES6学习笔记
      </a></span> <span class="next"><a href="/Web2/JS数据结构与算法.html">
        JS数据结构与算法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.750feb0e.js" defer></script><script src="/assets/js/2.51f79b28.js" defer></script><script src="/assets/js/87.3a394a36.js" defer></script><script src="/assets/js/10.c677f95a.js" defer></script>
  </body>
</html>
