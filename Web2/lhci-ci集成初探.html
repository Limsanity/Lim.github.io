<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>lhci-ci集成初探 | Lim&#39;s Page</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/zelda.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="192x192" href="/zelda-192.png">
    <meta name="description" content="something about front-end">
    
    <link rel="preload" href="/assets/css/0.styles.8de41c91.css" as="style"><link rel="preload" href="/assets/js/app.750feb0e.js" as="script"><link rel="preload" href="/assets/js/2.51f79b28.js" as="script"><link rel="preload" href="/assets/js/16.949c7023.js" as="script"><link rel="preload" href="/assets/js/10.c677f95a.js" as="script"><link rel="prefetch" href="/assets/js/100.177f514a.js"><link rel="prefetch" href="/assets/js/101.bd0c4e7f.js"><link rel="prefetch" href="/assets/js/102.cadfa153.js"><link rel="prefetch" href="/assets/js/103.2706f2ae.js"><link rel="prefetch" href="/assets/js/104.59af27a1.js"><link rel="prefetch" href="/assets/js/105.6a8045bd.js"><link rel="prefetch" href="/assets/js/106.bd6e128c.js"><link rel="prefetch" href="/assets/js/107.e8ec64a4.js"><link rel="prefetch" href="/assets/js/108.48c5b40e.js"><link rel="prefetch" href="/assets/js/109.1f3ecd2d.js"><link rel="prefetch" href="/assets/js/11.da07f57e.js"><link rel="prefetch" href="/assets/js/110.59ab3d87.js"><link rel="prefetch" href="/assets/js/111.6e505792.js"><link rel="prefetch" href="/assets/js/112.6805675b.js"><link rel="prefetch" href="/assets/js/113.8351e89e.js"><link rel="prefetch" href="/assets/js/114.f8ae045e.js"><link rel="prefetch" href="/assets/js/12.e3689742.js"><link rel="prefetch" href="/assets/js/13.b519f9a3.js"><link rel="prefetch" href="/assets/js/14.53eebcd6.js"><link rel="prefetch" href="/assets/js/15.1d4304e2.js"><link rel="prefetch" href="/assets/js/17.1ebb059b.js"><link rel="prefetch" href="/assets/js/18.70936c5f.js"><link rel="prefetch" href="/assets/js/19.60e280c9.js"><link rel="prefetch" href="/assets/js/20.acc3b53c.js"><link rel="prefetch" href="/assets/js/21.000f9bfe.js"><link rel="prefetch" href="/assets/js/22.dde14540.js"><link rel="prefetch" href="/assets/js/23.91dc37f8.js"><link rel="prefetch" href="/assets/js/24.3356f787.js"><link rel="prefetch" href="/assets/js/25.5aad8683.js"><link rel="prefetch" href="/assets/js/26.147bad61.js"><link rel="prefetch" href="/assets/js/27.d6e6818f.js"><link rel="prefetch" href="/assets/js/28.89264090.js"><link rel="prefetch" href="/assets/js/29.6fa2b213.js"><link rel="prefetch" href="/assets/js/3.e7a2c18f.js"><link rel="prefetch" href="/assets/js/30.0d23825c.js"><link rel="prefetch" href="/assets/js/31.6a3ff0b7.js"><link rel="prefetch" href="/assets/js/32.ee5614c3.js"><link rel="prefetch" href="/assets/js/33.8b077b7f.js"><link rel="prefetch" href="/assets/js/34.2d88a808.js"><link rel="prefetch" href="/assets/js/35.f1eb02ae.js"><link rel="prefetch" href="/assets/js/36.77d7adb2.js"><link rel="prefetch" href="/assets/js/37.6775800c.js"><link rel="prefetch" href="/assets/js/38.fdd1253f.js"><link rel="prefetch" href="/assets/js/39.c62e28db.js"><link rel="prefetch" href="/assets/js/4.6c56feef.js"><link rel="prefetch" href="/assets/js/40.9054f4e2.js"><link rel="prefetch" href="/assets/js/41.e7b94d57.js"><link rel="prefetch" href="/assets/js/42.b1786a78.js"><link rel="prefetch" href="/assets/js/43.1580e7b7.js"><link rel="prefetch" href="/assets/js/44.65ed8576.js"><link rel="prefetch" href="/assets/js/45.36712ec7.js"><link rel="prefetch" href="/assets/js/46.1ccea627.js"><link rel="prefetch" href="/assets/js/47.13942b71.js"><link rel="prefetch" href="/assets/js/48.19830dcb.js"><link rel="prefetch" href="/assets/js/49.09aa6295.js"><link rel="prefetch" href="/assets/js/5.d17b0055.js"><link rel="prefetch" href="/assets/js/50.df95e7c1.js"><link rel="prefetch" href="/assets/js/51.beb07eea.js"><link rel="prefetch" href="/assets/js/52.f599e852.js"><link rel="prefetch" href="/assets/js/53.63bc005f.js"><link rel="prefetch" href="/assets/js/54.8fca02df.js"><link rel="prefetch" href="/assets/js/55.4add5831.js"><link rel="prefetch" href="/assets/js/56.e5bd1172.js"><link rel="prefetch" href="/assets/js/57.b0ef0d61.js"><link rel="prefetch" href="/assets/js/58.0a727eef.js"><link rel="prefetch" href="/assets/js/59.9bbd5c95.js"><link rel="prefetch" href="/assets/js/6.8308d385.js"><link rel="prefetch" href="/assets/js/60.c5256477.js"><link rel="prefetch" href="/assets/js/61.b2709925.js"><link rel="prefetch" href="/assets/js/62.7f88b67a.js"><link rel="prefetch" href="/assets/js/63.f45cc107.js"><link rel="prefetch" href="/assets/js/64.c2272af3.js"><link rel="prefetch" href="/assets/js/65.aa141d4c.js"><link rel="prefetch" href="/assets/js/66.1a0d0448.js"><link rel="prefetch" href="/assets/js/67.1f8281e9.js"><link rel="prefetch" href="/assets/js/68.4327c5c0.js"><link rel="prefetch" href="/assets/js/69.45c10907.js"><link rel="prefetch" href="/assets/js/7.25ac0485.js"><link rel="prefetch" href="/assets/js/70.3057e14c.js"><link rel="prefetch" href="/assets/js/71.5efe1e42.js"><link rel="prefetch" href="/assets/js/72.fc58a760.js"><link rel="prefetch" href="/assets/js/73.5d2dc328.js"><link rel="prefetch" href="/assets/js/74.08d8b949.js"><link rel="prefetch" href="/assets/js/75.f2bb48ad.js"><link rel="prefetch" href="/assets/js/76.96a4273b.js"><link rel="prefetch" href="/assets/js/77.d5877740.js"><link rel="prefetch" href="/assets/js/78.43c99cc0.js"><link rel="prefetch" href="/assets/js/79.bfce4a46.js"><link rel="prefetch" href="/assets/js/8.98216078.js"><link rel="prefetch" href="/assets/js/80.1a4d9abd.js"><link rel="prefetch" href="/assets/js/81.22561592.js"><link rel="prefetch" href="/assets/js/82.ba55ed12.js"><link rel="prefetch" href="/assets/js/83.97fdeadc.js"><link rel="prefetch" href="/assets/js/84.74bc54ee.js"><link rel="prefetch" href="/assets/js/85.86430dd5.js"><link rel="prefetch" href="/assets/js/86.746060ff.js"><link rel="prefetch" href="/assets/js/87.3a394a36.js"><link rel="prefetch" href="/assets/js/88.364afa36.js"><link rel="prefetch" href="/assets/js/89.b01f6f1b.js"><link rel="prefetch" href="/assets/js/9.2f45caf6.js"><link rel="prefetch" href="/assets/js/90.1b8e8891.js"><link rel="prefetch" href="/assets/js/91.1febf461.js"><link rel="prefetch" href="/assets/js/92.92378978.js"><link rel="prefetch" href="/assets/js/93.8fbfafa9.js"><link rel="prefetch" href="/assets/js/94.0cd4c971.js"><link rel="prefetch" href="/assets/js/95.7f7b8f77.js"><link rel="prefetch" href="/assets/js/96.87929228.js"><link rel="prefetch" href="/assets/js/97.87b1c656.js"><link rel="prefetch" href="/assets/js/98.eb84c7b1.js"><link rel="prefetch" href="/assets/js/99.b7d87337.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8de41c91.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Lim's Page</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/Web2/" class="nav-link router-link-active">
  Web2
</a></li><li class="dropdown-item"><!----> <a href="/EnvironmentSetting/" class="nav-link">
  Environment Setting
</a></li><li class="dropdown-item"><!----> <a href="/Kubernetes/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/Sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Limsanity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web/" class="nav-link">
  Web
</a></li><li class="dropdown-item"><!----> <a href="/Web2/" class="nav-link router-link-active">
  Web2
</a></li><li class="dropdown-item"><!----> <a href="/EnvironmentSetting/" class="nav-link">
  Environment Setting
</a></li><li class="dropdown-item"><!----> <a href="/Kubernetes/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/Sentry/" class="nav-link">
  Sentry
</a></li><li class="dropdown-item"><!----> <a href="/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Limsanity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>lhci-ci集成初探</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Web2/lhci-ci%E9%9B%86%E6%88%90%E5%88%9D%E6%8E%A2.html#lhci-ci集成初探" class="sidebar-link">lhci-ci集成初探</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web2/lhci-ci%E9%9B%86%E6%88%90%E5%88%9D%E6%8E%A2.html#制作能够运行lhci-cli的docker镜像" class="sidebar-link">制作能够运行lhci-cli的docker镜像</a></li><li class="sidebar-sub-header"><a href="/Web2/lhci-ci%E9%9B%86%E6%88%90%E5%88%9D%E6%8E%A2.html#关于upload审计结果" class="sidebar-link">关于Upload审计结果</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="lhci-ci集成初探"><a href="#lhci-ci集成初探" class="header-anchor">#</a> lhci-ci集成初探</h2> <h3 id="制作能够运行lhci-cli的docker镜像"><a href="#制作能够运行lhci-cli的docker镜像" class="header-anchor">#</a> 制作能够运行lhci-cli的docker镜像</h3> <p>运行lhci-cli所需要的环境：node、chromium、git。这里需要 git 是因为执行<code>lhci upload</code>时，会通过<code>git rev-parse HEAD</code>拿commit id，否则upload时则会出现以下报错：</p> <p><img src="/assets/img/1.8e0fc5e6.png" alt=""></p> <h4 id="编写dockerfile"><a href="#编写dockerfile" class="header-anchor">#</a> 编写Dockerfile</h4> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token comment"># Dockerfile</span>
<span class="token keyword">FROM</span> node<span class="token punctuation">:</span>12.8.1<span class="token punctuation">-</span>alpine

<span class="token keyword">RUN</span> sed <span class="token punctuation">-</span>i <span class="token string">'s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g'</span> /etc/apk/repositories \
    &amp;&amp; apk add <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>cache chromium git

<span class="token keyword">RUN</span> npm config set registry https<span class="token punctuation">:</span>//registry.npm.taobao.org \
    &amp;&amp; npm i <span class="token punctuation">-</span>g @lhci/cli@0.3.x
</code></pre></div><p>选用alpine版本的node镜像可以执行<code>apk</code>命令安装chromium和git，同时体积也比较小。</p> <p>构建并发布镜像：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker build -t limsanity3/node-lighthouse-ci:latest <span class="token builtin class-name">.</span>
docker push limsanity3/node-lighthouse-ci
</code></pre></div><h4 id="测试镜像"><a href="#测试镜像" class="header-anchor">#</a> 测试镜像</h4> <p>使用vue cli创建一个简单项目</p> <h5 id="ci"><a href="#ci" class="header-anchor">#</a> CI</h5> <p>在vue项目根目录添加<code>.gitlab-ci.yml</code>：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">stages</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> build
  <span class="token punctuation">-</span> audit
  
<span class="token key atrule">build</span><span class="token punctuation">:</span>
  <span class="token key atrule">stage</span><span class="token punctuation">:</span> build
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">key</span><span class="token punctuation">:</span> <span class="token string">&quot;$CI_COMMIT_REF_NAME&quot;</span>
    <span class="token key atrule">paths</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> node_modules/
  <span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> npm i
    <span class="token punctuation">-</span> npm run build
  <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
    <span class="token key atrule">expire_in</span><span class="token punctuation">:</span> 1 week
    <span class="token key atrule">paths</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> dist

<span class="token comment"># 注意image中的镜像名填写自己发布的镜像</span>
<span class="token key atrule">audit</span><span class="token punctuation">:</span>
  <span class="token key atrule">stage</span><span class="token punctuation">:</span> audit
  <span class="token key atrule">image</span><span class="token punctuation">:</span> limsanity3/node<span class="token punctuation">-</span>lighthouse<span class="token punctuation">-</span>ci
  <span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> lhci collect <span class="token punctuation">-</span><span class="token punctuation">-</span>staticDistDir=./dist <span class="token punctuation">-</span><span class="token punctuation">-</span>settings.chromeFlags='<span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>sandbox <span class="token punctuation">-</span><span class="token punctuation">-</span>headless'
    <span class="token punctuation">-</span> lhci upload <span class="token punctuation">-</span><span class="token punctuation">-</span>target=temporary<span class="token punctuation">-</span>public<span class="token punctuation">-</span>storage
</code></pre></div><p>这里没有直接运行<code>lhci autorun</code>是因为想指定chromeFlags。chromeFlags如果不指定<code>--no-sandbox</code>可能会出错，具体原因还没有详细了解(<a href="https://developers.google.com/web/updates/2017/04/headless-chrome#faq" target="_blank" rel="noopener noreferrer">How do I create a Docker container that runs Headless Chrome?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)。<a href="https://peter.sh/experiments/chromium-command-line-switches/" target="_blank" rel="noopener noreferrer">chromeFlags的配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>这里的upload命令是上传至Google，命令行中会给出上传地址，例如：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h3 id="关于upload审计结果"><a href="#关于upload审计结果" class="header-anchor">#</a> 关于Upload审计结果</h3> <p>lighthouse审计出来的结果可以选择传到自己的服务器。服务器的搭建可见<a href="https://limsanity.github.io/Web2/%E9%9B%86%E6%88%90lighthouse-ci.html#%E9%9B%86%E6%88%90lighthouse-ci" target="_blank" rel="noopener noreferrer">构建自己的Lighthouse CI Server<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这篇是借鉴lighthouse-ci中readme而来的。自建服务器好处在于：审查数据不会公开、审查数据可以保存用来和之前的进行对比，如果只上传至google，只能看见当次的审查结果。</p> <p>如果要上传到自己搭建的服务器中，需要解决一些问题：</p> <ul><li>如何结合CI在lighthouse server中创建项目</li> <li>如何解决不重复创建的问题</li> <li>如何获取当前项目的token进行上传</li></ul> <h4 id="问题一"><a href="#问题一" class="header-anchor">#</a> 问题一</h4> <p>通过<code>lhci wizard</code>可以创建项目，这个过程是交互式的，因此可以借鉴<code>lhci wizard</code>的实现。其实现主要就是调用lighthouse server的api接口进行创建，可以在postman中测试一下:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># POST</span>
http://localhost:9001/v1/projects

<span class="token comment"># Body type:json</span>
<span class="token punctuation">{</span>
	<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;test ci&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>假设你根据上面步骤搭建了一个CI server，发送这个POST请求就可以创建一个项目，那么在CI流程中也可以通过curl等方法进行创建。</p> <h4 id="问题二"><a href="#问题二" class="header-anchor">#</a> 问题二</h4> <p>再次执行上面的POST请求，同样可以创建一个同名的项目，因此如何创建不重复的项目就成为一个难题：通过项目id或token判断唯一的话，CI流程中如何获取这个id或token呢？</p> <h4 id="问题三"><a href="#问题三" class="header-anchor">#</a> 问题三</h4> <p>审计结果上传到自己的服务器需要token，这个token在创建项目时可以获取到。问题二其实也跟这个问题有所关联，就是如何在CI中获取当前项目的token？</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.750feb0e.js" defer></script><script src="/assets/js/2.51f79b28.js" defer></script><script src="/assets/js/16.949c7023.js" defer></script><script src="/assets/js/10.c677f95a.js" defer></script>
  </body>
</html>
