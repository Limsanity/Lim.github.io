(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{426:function(a,t,s){"use strict";s.r(t);var e=s(46),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"更换yum源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换yum源"}},[a._v("#")]),a._v(" 更换yum源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 备份系统自带yum源配置文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 下载aliyun的yum源配置文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n\nyum makecache\n\nyum -y update\n")])])]),s("h2",{attrs:{id:"ssh免密码登陆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh免密码登陆"}},[a._v("#")]),a._v(" ssh免密码登陆")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ssh-keygen -t rsa -P "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" -p ~/.ssh/id_rsa.pub root@"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("server ip"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(":/root/.ssh/authorized_keys\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# 如果 remote server 碰到 chmod: 更改"authorized_keys" 的权限: 不允许的操作')]),a._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" e2fsprogs\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/.ssh\nchattr -i authorized_keys\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# S ~/.ssh/config")]),a._v("\nHost *\n    ServerAliveInterval "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("240")]),a._v("\n\nHost pomo\n    HostName "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("server ip"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    User root\n    IdentityFile ~/.ssh/id_rsa\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# E ~/.ssh/config")]),a._v("\n")])])]),s("h2",{attrs:{id:"安装git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装git"}},[a._v("#")]),a._v(" 安装git")]),a._v(" "),s("p",[s("code",[a._v("yum info git")])]),a._v(" "),s("p",[s("code",[a._v("yum install -y git")])]),a._v(" "),s("h2",{attrs:{id:"安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx"}},[a._v("#")]),a._v(" 安装Nginx")]),a._v(" "),s("p",[a._v("见"),s("a",{attrs:{href:"https://blog.csdn.net/u012486840/article/details/52610320",target:"_blank",rel:"noopener noreferrer"}},[a._v("CentOS 7 yum 安装 Nginx"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"添加nginx的yum源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加nginx的yum源"}},[a._v("#")]),a._v(" 添加Nginx的yum源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n")])])]),s("h3",{attrs:{id:"安装nginx-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx-2"}},[a._v("#")]),a._v(" 安装Nginx")]),a._v(" "),s("p",[s("code",[a._v("yum install -y nginx")])]),a._v(" "),s("h3",{attrs:{id:"运行nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行nginx"}},[a._v("#")]),a._v(" 运行Nginx")]),a._v(" "),s("p",[s("code",[a._v("nginx")])]),a._v(" "),s("h3",{attrs:{id:"nginx的配置文件目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx的配置文件目录"}},[a._v("#")]),a._v(" Nginx的配置文件目录")]),a._v(" "),s("p",[s("code",[a._v("/etc/nginx/conf.d/")])]),a._v(" "),s("h3",{attrs:{id:"查看access-log和error-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看access-log和error-log"}},[a._v("#")]),a._v(" 查看access.log和error.log")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("cat "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("conf "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 查看accsss.log位置")]),a._v("\ncat $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("access"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("log_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h2",{attrs:{id:"安装node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装node"}},[a._v("#")]),a._v(" 安装Node")]),a._v(" "),s("p",[a._v("见"),s("a",{attrs:{href:"https://blog.csdn.net/lu_embedded/article/details/79138650",target:"_blank",rel:"noopener noreferrer"}},[a._v("CentOS如何安装Node"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("code",[a._v("yum install epel-release")])]),a._v(" "),s("p",[s("code",[a._v("yum install nodejs")])]),a._v(" "),s("p",[a._v("此时的node版本较低，需要更新，否则会出现koa-static中间件使用了ES7新语法等报错信息，见"),s("a",{attrs:{href:"https://stackoverflow.com/questions/46029209/koa-static-async-function-isnt-supported-by-old-node-js",target:"_blank",rel:"noopener noreferrer"}},[a._v("koa-static报错信息"),s("OutboundLink")],1),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"升级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级"}},[a._v("#")]),a._v(" 升级")]),a._v(" "),s("p",[a._v("见"),s("a",{attrs:{href:"https://segmentfault.com/a/1190000015302680",target:"_blank",rel:"noopener noreferrer"}},[a._v("Node升级到最新版本"),s("OutboundLink")],1)]),a._v(" "),s("h4",{attrs:{id:"安装n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装n"}},[a._v("#")]),a._v(" 安装n")]),a._v(" "),s("p",[a._v("n是nodejs版本管理工具")]),a._v(" "),s("p",[s("code",[a._v("npm install -g n")])]),a._v(" "),s("h4",{attrs:{id:"安装最新版node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装最新版node"}},[a._v("#")]),a._v(" 安装最新版node")]),a._v(" "),s("p",[s("code",[a._v("n latest")])]),a._v(" "),s("h4",{attrs:{id:"切换node版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换node版本"}},[a._v("#")]),a._v(" 切换node版本")]),a._v(" "),s("p",[a._v("输入"),s("code",[a._v("n")]),a._v("，会出现版本选择，选择最新版，再次查看node版本，可能仍然是旧版本。")]),a._v(" "),s("h4",{attrs:{id:"解决失效为问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决失效为问题"}},[a._v("#")]),a._v(" 解决失效为问题")]),a._v(" "),s("p",[a._v("详情见上面链接")]),a._v(" "),s("p",[s("code",[a._v("vim ~/.bash_profile")])]),a._v(" "),s("p",[a._v("添加")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("export N_PREFIX=/usr/local #node实际安装位置\nexport PATH=$N_PREFIX/bin:$PATH\n")])])]),s("p",[a._v("生效")]),a._v(" "),s("p",[s("code",[a._v("source ~/.bash_profile")])]),a._v(" "),s("h3",{attrs:{id:"更换淘宝源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换淘宝源"}},[a._v("#")]),a._v(" 更换淘宝源")]),a._v(" "),s("p",[s("code",[a._v("npm install -g cnpm --registry=https://registry.npm.taobao.org")])]),a._v(" "),s("h2",{attrs:{id:"mysql安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql安装"}},[a._v("#")]),a._v(" Mysql安装")]),a._v(" "),s("h3",{attrs:{id:"添加mysql-yum源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加mysql-yum源"}},[a._v("#")]),a._v(" 添加mysql yum源")]),a._v(" "),s("p",[s("code",[a._v("wget 'https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm'")])]),a._v(" "),s("p",[s("code",[a._v("rpm -Uvh mysql57-community-release-el7-11.noarch.rpm")])]),a._v(" "),s("p",[s("code",[a._v("yum repolist all | grep mysql")])]),a._v(" "),s("p",[a._v("###yum安装mysql")]),a._v(" "),s("p",[s("code",[a._v("yum install mysql-community-server")])]),a._v(" "),s("h3",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[a._v("#")]),a._v(" 启动")]),a._v(" "),s("p",[s("code",[a._v("service mysqld start")])]),a._v(" "),s("h3",{attrs:{id:"登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[a._v("#")]),a._v(" 登录")]),a._v(" "),s("p",[s("code",[a._v("mysql -u root -p")])]),a._v(" "),s("h3",{attrs:{id:"查看默认密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看默认密码"}},[a._v("#")]),a._v(" 查看默认密码")]),a._v(" "),s("p",[s("code",[a._v("cat /var/log/mysqld.log | grep passwod")])]),a._v(" "),s("h3",{attrs:{id:"修改默认密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改默认密码"}},[a._v("#")]),a._v(" 修改默认密码")]),a._v(" "),s("p",[s("code",[a._v("SET PASSWORD FOR ['root'@'localhost'](mailto:'root'@'localhost') = PASSWORD('newpass');")])]),a._v(" "),s("h3",{attrs:{id:"修改密码安全性限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改密码安全性限制"}},[a._v("#")]),a._v(" 修改密码安全性限制")]),a._v(" "),s("p",[s("code",[a._v("set global validate_password_policy=0;")])]),a._v(" "),s("p",[a._v("##Docker安装")]),a._v(" "),s("p",[a._v("删除旧版本")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n")])])]),s("p",[a._v("安装必要工具")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum install -y yum-utils device-mapper-persistent-data lvm2\n")])])]),s("p",[a._v("添加软件源信息")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])])]),s("p",[a._v("更新 yum 缓存")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum makecache fast\n")])])]),s("p",[a._v("安装 Docker-ce")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum -y install docker-ce\n")])])]),s("p",[a._v("启动 Docker 后台服务")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("systemctl start docker\n")])])]),s("p",[a._v("使用镜像加速器")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker镜像加速器"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);