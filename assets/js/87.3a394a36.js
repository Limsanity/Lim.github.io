(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{489:function(e,a,t){"use strict";t.r(a);var r=t(46),i=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"graphql-in-action"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#graphql-in-action"}},[e._v("#")]),e._v(" GraphQL in Action")]),e._v(" "),t("h2",{attrs:{id:"introduction-to-graphql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction-to-graphql"}},[e._v("#")]),e._v(" Introduction to GraphQL")]),e._v(" "),t("h3",{attrs:{id:"what-is-graphql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-is-graphql"}},[e._v("#")]),e._v(" What is GraphQL")]),e._v(" "),t("h4",{attrs:{id:"the-big-picture"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-big-picture"}},[e._v("#")]),e._v(" The Big picture")]),e._v(" "),t("ul",[t("li",[e._v("GraphQL allows clients to ask for the exact data they need and make it easier for servers to aggregate data from multiple data storage resources.")]),e._v(" "),t("li",[e._v("Type system ensure that the clients ask for only what is possible and provide clear and helpful errors. Clients can use types to minimize any manual parsing of data elemetns.")])]),e._v(" "),t("h4",{attrs:{id:"graphql-is-a-specification"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#graphql-is-a-specification"}},[e._v("#")]),e._v(" GraphQL is a specification")]),e._v(" "),t("p",[t("a",{attrs:{href:"http://spec.graphql.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GraphQL Spec"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[e._v("The syntax between languages may be different, but the rules and practices remain the same.")]),e._v(" "),t("li",[e._v("You can ultimately learn EVERYTHING about the GraphQL language and runtime requirements in that official specification document.")]),e._v(" "),t("li",[e._v("Alongside the specification document, Facebook alse released a reference implementation libary for GraphQL runtimes in JS, which is hosted at https://github.com/graphql/graphql-js.")])]),e._v(" "),t("h4",{attrs:{id:"graphql-is-a-language"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#graphql-is-a-language"}},[e._v("#")]),e._v(" GraphQL is a language")]),e._v(" "),t("ul",[t("li",[e._v('Queries represent READ operation. Mutations represent WRITE-then-READ operations. You can simply think of mutations as "queries that have side effects".')]),e._v(" "),t("li",[e._v("GraphQL also supports a third request type which is called a subscription and it's used for real-time data monitoring requests.")]),e._v(" "),t("li",[e._v("GraphQL is a declarative language. It is structured language that computers can easily parse and use.")])]),e._v(" "),t("h4",{attrs:{id:"graphql-is-a-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#graphql-is-a-service"}},[e._v("#")]),e._v(" GraphQL is a service")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("A GraphQL service can be written in any programming language and it can be conceptually split into two major parts: structure and behavior.")]),e._v(" "),t("ul",[t("li",[e._v("The structure is defined with a strongly-type shcema. The "),t("strong",[e._v("schema")]),e._v(" is basically a graphql of "),t("strong",[e._v("fields")]),e._v(" which have "),t("strong",[e._v("types")]),e._v(".")]),e._v(" "),t("li",[e._v("The behavior is naturally implemented with functions that in the GraphQL world are named "),t("strong",[e._v("resolve functions")]),e._v(".")])])]),e._v(" "),t("li",[t("p",[e._v("A resolver function is where we give instructions for the runtime service about how and where to access the raw data.")])]),e._v(" "),t("li",[t("p",[e._v("GraphQL service traverses the tree of fields in the request and invokes the resolver function associated with each field in it. It'll then gather the data returned by these resolver fucntions and use it to form a single response.")])])]),e._v(" "),t("h3",{attrs:{id:"why-graphql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#why-graphql"}},[e._v("#")]),e._v(" Why GraphQL")]),e._v(" "),t("p",[e._v('If you ask me to answer the "Why GraphQL" question with just a single word, that word would be : '),t("strong",[e._v("Standards")]),e._v(".")]),e._v(" "),t("p",[e._v("GraphQL provides standards and structures to implement API features in maintainable and scalable ways whil the other alternatives lack such standards.")]),e._v(" "),t("p",[e._v("GraphQL documentation is built-in and it's first class.")]),e._v(" "),t("p",[e._v("It basically decouples clients from servers and allows both of them to evelve and scale independently. This enable much faster iteration in both frontend and backend products.")]),e._v(" "),t("p",[e._v("With GraphQL, you can basically shift this multi-request complexity to the backend and have your GraphQL runtime deal with it.")]),e._v(" "),t("p",[e._v("It improves frontend DX. There is a tight relationship between what data is needed by a UI and the way a developer can express a description of that data need in GraphQL.")]),e._v(" "),t("h4",{attrs:{id:"what-about-rest-apis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-about-rest-apis"}},[e._v("#")]),e._v(" What about REST APIs?")]),e._v(" "),t("p",[e._v('The biggest "relevant" problem with REST APIs here is the clients\' need to communicate with multiple data API endpoints. Another big problem is, especially for mobile applications, mobile devices usually have processing, memory, and network constraints.')]),e._v(" "),t("p",[e._v("In a pure REST API a client cannot specify which fields to select for a record in that resource, which is also known as "),t("strong",[e._v("over-fetching")]),e._v(".")]),e._v(" "),t("p",[e._v("One other big problem with REST APIs is versioning. If you need to support multiple versions that usually means new endpoints. This leads to more problem while using and maintaing these endpoints and it might be the cause of code duplication on the server.")]),e._v(" "),t("p",[e._v("Caching a REST API response is a lot easier than caching a GraphQL API response.")]),e._v(" "),t("p",[e._v("Optimizing the code for a REST endpoint is potentially a lot easier than optimizing the code for a generic single endpoint.")]),e._v(" "),t("h4",{attrs:{id:"the-graphql-way"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-graphql-way"}},[e._v("#")]),e._v(" The GraphQL Way")]),e._v(" "),t("p",[e._v("The concepts and design decisions behind GraphQL:")]),e._v(" "),t("ol",[t("li",[e._v("The Typed Graph Schema")]),e._v(" "),t("li",[e._v("The Declarative Language")]),e._v(" "),t("li",[e._v("The Single Endpoint and the Client Language\n"),t("ul",[t("li",[e._v("Having clients asking for exactly what they need enables backend developers to have more useful analytics of what data is being used and what parts of the data is in higher demand. This is very useful data, which can be used to scale and optimize the data services based on usage patterns.")])])]),e._v(" "),t("li",[e._v("The Simple Versioning\n"),t("ul",[t("li",[e._v("This is especially important for mobile clients because you cannot control the version of the API they are using.")])])])]),e._v(" "),t("h4",{attrs:{id:"rest-apis-and-graphql-apis-in-action"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rest-apis-and-graphql-apis-in-action"}},[e._v("#")]),e._v(" REST APIs and GraphQL APIs in action")]),e._v(" "),t("h3",{attrs:{id:"graphql-problems"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#graphql-problems"}},[e._v("#")]),e._v(" GraphQL Problems")]),e._v(" "),t("h4",{attrs:{id:"security"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[e._v("#")]),e._v(" Security")]),e._v(" "),t("p",[e._v("One important threat that GraphQL makes easier is resource exhaustion attacks (AKA Denial of Service attacks). It is very simple to query for deep nested relationships or use field aliases to ask for the same field many times.")]),e._v(" "),t("p",[e._v("You can implement cost analysis on the query in advance and enforce some kind of limits on the amount of data one can consume. You can also implement a time-out to kill requests that take too long to resolve. Also, since a GraphQL service is just one layer in any application stack, you can handle the rate limits enforcement at a lower level under GraphQL.")]),e._v(" "),t("p",[e._v("Authentication and authorization are other concerns that you need to think about when working with GraphQL.")]),e._v(" "),t("h4",{attrs:{id:"caching-and-optimizing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#caching-and-optimizing"}},[e._v("#")]),e._v(" Caching and Optimizing")]),e._v(" "),t("p",[e._v("With GraphQL, you can adopt a similar basic approach and use the query text as a key to cache its response. But this approach is limited, not very efficient, and can cause problems with data consistency. The results of multiple GraphQL queries can easily overlap and this basic caching approach would not account for the overlap.")]),e._v(" "),t("p",[e._v("There is a brilliant solution to this problem. A Graph Query means a "),t("em",[e._v("Graph Cache")]),e._v(". If you normalize a GraphQL query response into a flat collection of records and give each record a global unique ID, you can cache those records instead of caching the full responses.")]),e._v(" "),t("p",[e._v('One of the other most "famous" problems that you would encounter when working with GraphQL is the problem that is commonly referred to as N+1 SQL queries.')]),e._v(" "),t("p",[e._v("Luckily, Facebook is pioneering one possible solution to both the caching problem and the data-loading-optimization problem. Itâ€™s called DataLoader. DataLoader uses a combination of batching and caching to accomplish that.")]),e._v(" "),t("h4",{attrs:{id:"learning-curve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#learning-curve"}},[e._v("#")]),e._v(" Learning Curve")]),e._v(" "),t("p",[e._v("A developer writing a GraphQL-based frontend application will have to learn the syntax of the GraphQL language.  A developer implementing a GraphQL backend service will have to learn a lot more than just the language.")]),e._v(" "),t("h2",{attrs:{id:"exploring-graphql-apis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exploring-graphql-apis"}},[e._v("#")]),e._v(" Exploring GraphQL APIs")]),e._v(" "),t("p",[e._v("This chapter covers:")]),e._v(" "),t("ul",[t("li",[e._v("Using GraphQL's in-browser IDE to test GraphQL requests")]),e._v(" "),t("li",[e._v("Exploring the fundamentals of sending GraphQL data requests")]),e._v(" "),t("li",[e._v("Exploring read and write example operations from the GitHub GraphQL API")]),e._v(" "),t("li",[e._v("Exploring GraphQL's introspective features")]),e._v(" "),t("li",[e._v("Exploring auto-generated GraphQL APIs")])]),e._v(" "),t("h3",{attrs:{id:"the-graphiql-editor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-graphiql-editor"}},[e._v("#")]),e._v(" The GraphiQL Editor")]),e._v(" "),t("p",[e._v("GraphiQL can help you improve these requests, validate your improvements, and debug any of the requeststhat are running into problems.")]),e._v(" "),t("h3",{attrs:{id:"the-basics-of-the-graphql-language"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-basics-of-the-graphql-language"}},[e._v("#")]),e._v(" The Basics of the GraphQL Language")]),e._v(" "),t("p",[e._v("A GraphQL request is a tree of "),t("strong",[e._v("fields")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"requests"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requests"}},[e._v("#")]),e._v(" Requests")]),e._v(" "),t("p",[e._v("The source text of a GraphQL request is often referred to as a "),t("strong",[e._v("document")]),e._v(".")]),e._v(" "),t("p",[e._v("A GraphQL request might also contain an object to represent values of variables that might be used in the request document text. The request might also include meta information about the operations. For example, if the request document contains more than one operation, a GraphQL request must include information about which operation to execute. If the request document contains only one operation, the GraphQL server will just execute that.")]),e._v(" "),t("p",[e._v("There are three types of operations that can be used in GraphQL:")]),e._v(" "),t("ul",[t("li",[e._v("Query operations that represent a read-only fetch")]),e._v(" "),t("li",[e._v("Mutation operations that reprpesent a write followed by a fetch")]),e._v(" "),t("li",[e._v("Subscription operations that repesent a request for real-time data updates")])]),e._v(" "),t("h4",{attrs:{id:"fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fields"}},[e._v("#")]),e._v(" Fields")]),e._v(" "),t("p",[e._v("A field in GraphQL describes on discrete piece of information that you can retrieve about an object. It could describe a scalar value, an object, a list of objects.")]),e._v(" "),t("p",[e._v("You can also cusomize a GraphQL schema to support more scalar values with certain formats.")]),e._v(" "),t("h3",{attrs:{id:"examples-from-the-github-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#examples-from-the-github-api"}},[e._v("#")]),e._v(" Examples from the GitHub API")]),e._v(" "),t("h4",{attrs:{id:"introspective-queries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introspective-queries"}},[e._v("#")]),e._v(" Introspective Queries")]),e._v(" "),t("h2",{attrs:{id:"customizing-and-organizing-graphql-operations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#customizing-and-organizing-graphql-operations"}},[e._v("#")]),e._v(" Customizing and Organizing GraphQL Operations")]),e._v(" "),t("p",[e._v("This chapter covers:")]),e._v(" "),t("ul",[t("li",[e._v("Using arguments to customize what a field in a GraphQL request returns")]),e._v(" "),t("li",[e._v("Using aliases to customize the property namesin a response object")]),e._v(" "),t("li",[e._v("Using directives to describe alternate runtime executions")]),e._v(" "),t("li",[e._v("Using fragments to reduce any duplicated text in a GraphQL document")]),e._v(" "),t("li",[e._v("Composing queries and separating data requirement responsibilities")]),e._v(" "),t("li",[e._v("Using inline fragments with interfaces and unions")])]),e._v(" "),t("h3",{attrs:{id:"customizing-fields-with-arguments"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#customizing-fields-with-arguments"}},[e._v("#")]),e._v(" Customizing Fields with Arguments")]),e._v(" "),t("h4",{attrs:{id:"identifying-a-single-record-to-return"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#identifying-a-single-record-to-return"}},[e._v("#")]),e._v(" Identifying a single record to return")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('query UserInfo {\n  user(email: "jane@doe.name") {\n  \tfirstName\n  \tlastName\n  \tuserName\n  }\n}\n')])])]),t("h4",{attrs:{id:"limiting-the-number-of-records-returned-by-a-list-field"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#limiting-the-number-of-records-returned-by-a-list-field"}},[e._v("#")]),e._v(" Limiting the number of records returned by a list field")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('query First10Repos {\n  organization(login: "facebook") {\n    name\n    description\n    websiteUrl\n    repositories(first: 10) {\n      nodes {\n        name\n      }\n    }\n  }\n}\n')])])]),t("h4",{attrs:{id:"ordering-records-returned-by-a-list-field"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ordering-records-returned-by-a-list-field"}},[e._v("#")]),e._v(" Ordering records returned by a list field")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('query orgReposByName {\n  organization(login: "facebook") {\n    repositories(first:10, orderBy:{field: NAME, direction: ASC}) {\n      nodes {\n        name\n      }\n    }\n  }\n}\n')])])]),t("h4",{attrs:{id:"paginating-through-a-list-of-records"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paginating-through-a-list-of-records"}},[e._v("#")]),e._v(" Paginating through a list of records")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('query OrgRepoConnectionExample {\n  organization(login: "facebook") {\n    repositories(first:10, orderBy:{field: STARGAZERS, direction: DESC}) {\n      edges {\n        cursor\n        node {\n          name\n        }\n      }\n    }\n  }\n}\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('query OrgReposMetaInfoExample {\n  organization(login: "facebook") {\n    repositories(\n      first: 10,\n      after: "Y3Vyc29yOnYyOpLNOE7OAeErrQ==",\n      orderBy: {field: STARGAZERS, direction: DESC}\n    ) {\n      totalCount\n      pageInfo {\n        hasNextPage\n      }\n      edges {\n        cursor\n        node {\n          name\n        }\n      }\n    }\n  }\n}\n')])])]),t("h4",{attrs:{id:"searching-and-filtering"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#searching-and-filtering"}},[e._v("#")]),e._v(" Searching and filtering")])])}),[],!1,null,null,null);a.default=i.exports}}]);