(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{363:function(e,t,r){e.exports=r.p+"assets/img/1.75c78bea.jpg"},364:function(e,t,r){e.exports=r.p+"assets/img/2.e083d5d6.png"},365:function(e,t,r){e.exports=r.p+"assets/img/3.4fb45b44.png"},427:function(e,t,r){"use strict";r.r(t);var n=r(46),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("环境说明：Windows VMWare 中安装 18.04.5 版本的 Ubuntu 虚拟机。")]),e._v(" "),n("h2",{attrs:{id:"安装-ubuntu"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-ubuntu"}},[e._v("#")]),e._v(" 安装 Ubuntu")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/38797088",target:"_blank",rel:"noopener noreferrer"}},[e._v("VMWare 安装 Ubuntu 18.04"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[e._v("安装完成后可能会出现 "),n("code",[e._v("please remove the install medium then reboot")]),e._v("，按以下步骤：关闭虚拟机 --\x3e 取消 "),n("strong",[e._v("启动时连接")]),e._v(" 勾选 --\x3e 重启虚拟机。")]),e._v(" "),n("p",[n("img",{attrs:{src:r(363),alt:""}})]),e._v(" "),n("p",[n("img",{attrs:{src:r(364),alt:""}})]),e._v(" "),n("p",[e._v("随后可以安装上文推荐链接，更换 apt 源以及安装 vmware tools。")]),e._v(" "),n("ul",[n("li",[e._v("更换 apt 源：加快包的下载，可选阿里源。")]),e._v(" "),n("li",[e._v("安装 vmware tools：虚拟机适配屏幕分辨率，可从宿主机复制文件至虚拟机。")])]),e._v(" "),n("p",[e._v("最后安装 VScode 和 Chrome 浏览器，Chrome 可能无法直接点击 install 安装，通过命令行 "),n("code",[e._v("sudo dpkg -i ./google...deb")]),e._v(" 即可。")]),e._v(" "),n("h2",{attrs:{id:"搭建-xv6-labs-2020-环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建-xv6-labs-2020-环境"}},[e._v("#")]),e._v(" 搭建 xv6-labs-2020 环境")]),e._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://pdos.csail.mit.edu/6.828/2020/tools.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tools Used in 6.S081"),n("OutboundLink")],1),e._v("：构建 xv6，需要预先安装工具。")])]),e._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://pdos.csail.mit.edu/6.828/2020/labs/util.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lab: Xv6 and Unix utilites"),n("OutboundLink")],1),e._v("：按照该说明 clone 项目以及构建运行 xv6，过程中可能涉及一些问题下面说明。")])])]),e._v(" "),n("p",[e._v("首先根据 Installing via Apt 部分安装包，然后进入 xv6 项目中运行 make qemu，可能会出现下列一些问题：")]),e._v(" "),n("h3",{attrs:{id:"riscv64-linux-gnu-gcc-error-unrecognized-command-line-option-mno-relax-did-you-mean-wno-vla"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#riscv64-linux-gnu-gcc-error-unrecognized-command-line-option-mno-relax-did-you-mean-wno-vla"}},[e._v("#")]),e._v(" riscv64-linux-gnu-gcc: error: unrecognized command line option ‘-mno-relax’; did you mean ‘-Wno-vla’?")]),e._v(" "),n("p",[e._v("根据 "),n("a",{attrs:{href:"https://github.com/mit-pdos/xv6-riscv/issues/7",target:"_blank",rel:"noopener noreferrer"}},[e._v("相关 issue 给出解决方法"),n("OutboundLink")],1),e._v("，需要使用的 "),n("code",[e._v("riscv64-linux-gnu-gcc")]),e._v("，按照"),n("a",{attrs:{href:"https://zoomadmin.com/HowToInstall/UbuntuPackage/gcc-8-riscv64-linux-gnu",target:"_blank",rel:"noopener noreferrer"}},[e._v("该步骤"),n("OutboundLink")],1),e._v("安装相应的包，然后编辑 Makefile 文件，改用 "),n("code",[e._v("riscv64-linux-gnu-gcc-8")]),e._v("：")]),e._v(" "),n("p",[n("img",{attrs:{src:r(365),alt:""}})]),e._v(" "),n("h3",{attrs:{id:"qemu-system-riscv-command-not-found"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#qemu-system-riscv-command-not-found"}},[e._v("#")]),e._v(" qemu-system-riscv: command not found")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("执行命令 "),n("code",[e._v("sudo apt-get install autoconf automake autotools-dev curl libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev")]),e._v("。")])]),e._v(" "),n("li",[n("p",[e._v("在 https://download.qemu.org/qemu-5.1.0.tar.xz 下载 qemu 压缩文件，然后解压缩，进入 "),n("code",[e._v("qemu-5.1.0")]),e._v("，执行 "),n("code",[e._v('./configure --disable-kvm --disable-werror --prefix=/usr/local --target-list="riscv64-softmmu"')]),e._v("，会出现无法找到 "),n("code",[e._v("glib-2.48 gthread-2.0 is required to compile QEMU")]),e._v(" 等问题，根据提示安装对应包，然后再重新执行命令即可。"),n("a",{attrs:{href:"https://blog.csdn.net/nancygreen/article/details/12261601",target:"_blank",rel:"noopener noreferrer"}},[e._v("该文中查阅 glib2 的安装"),n("OutboundLink")],1),e._v("，从而学会 "),n("code",[e._v("apt-cache search")]),e._v(" 搜索，缺失的 "),n("code",[e._v("pixman")]),e._v(" 可通过相同方式搜索并安装。")])])]),e._v(" "),n("p",[e._v("上述问题解决完后，再执行 make qemu，就可以顺利启动 xv6 内核。")])])}),[],!1,null,null,null);t.default=o.exports}}]);