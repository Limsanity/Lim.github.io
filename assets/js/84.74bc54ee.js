(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{486:function(t,s,e){"use strict";e.r(s);var a=e(46),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"cypress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cypress"}},[t._v("#")]),t._v(" Cypress")]),t._v(" "),e("h3",{attrs:{id:"dom元素选择"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dom元素选择"}},[t._v("#")]),t._v(" Dom元素选择")]),t._v(" "),e("ul",[e("li",[t._v("采用了JQuery选择元素的方式，开发者可以使用大部分JQuery的API，具有良好的可读性。")]),t._v(" "),e("li",[t._v("cypress获取元素的返回值和jquery有所区别：")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you can get the element in jquery")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" $jqueryElement "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.element'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// you cannot get the element in cypress, because cy dont return element synchronously")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" $cyElement "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.element'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("ul",[e("li",[t._v("当cypress找不到dom节点时，会自发的重复寻找直到找到为止，你也可以指定timeouts。这使得测试用例的编写可以减少很多条件语句去判断、等待dom节点的存在。")]),t._v(" "),e("li",[t._v("timeout值可以在cypress.json的"),e("code",[t._v("defaultCommandTimeout")]),t._v("中进行全局配置。")])]),t._v(" "),e("h4",{attrs:{id:"最佳实践"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[t._v("#")]),t._v(" 最佳实践")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("选择元素时尽量采用不易变的属性，例如：可以为元素增加"),e("code",[t._v("data-*或data-cy")]),t._v("属性供cypress选择。")])]),t._v(" "),e("li",[e("p",[t._v("何时使用"),e("code",[t._v("cy.contains()")]),t._v("：当text content的变动会影响测试结果时。")])])]),t._v(" "),e("h3",{attrs:{id:"链式指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#链式指令"}},[t._v("#")]),t._v(" 链式指令")]),t._v(" "),e("ul",[e("li",[t._v("对Dom进行操作时，cypress会考虑节点状态，例如：元素的可见性、disable属性等对click()会造成影响。可以指定"),e("code",[t._v("force")]),t._v("选项，重载该行为。")]),t._v(" "),e("li",[t._v("可通过assertions来对dom是否具有某种属性、类名、值等进行判断。")]),t._v(" "),e("li",[t._v("并非所有方法都可被链式调用，例如"),e("code",[t._v("cy.clearCookies()")]),t._v("的yield值为null。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);