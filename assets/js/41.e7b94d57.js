(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{439:function(a,s,t){"use strict";t.r(s);var e=t(46),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"linux鸟哥私房菜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux鸟哥私房菜"}},[a._v("#")]),a._v(" Linux鸟哥私房菜")]),a._v(" "),t("h2",{attrs:{id:"第10章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第10章"}},[a._v("#")]),a._v(" 第10章")]),a._v(" "),t("h3",{attrs:{id:"认识bash这个shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#认识bash这个shell"}},[a._v("#")]),a._v(" 认识Bash这个shell")]),a._v(" "),t("h4",{attrs:{id:"bash的功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bash的功能"}},[a._v("#")]),a._v(" Bash的功能")]),a._v(" "),t("ul",[t("li",[a._v("历史命令\n"),t("ul",[t("li",[t("code",[a._v("~/.bash_history")]),a._v("中存储着历史命令，可能存在黑客入侵，利用该命令查找到系统相关的操作，例如：在命令行中直接输入MySQL密码。")])])]),a._v(" "),t("li",[a._v("命令别名设置功能\n"),t("ul",[t("li",[t("code",[a._v("alias lm='ls -al'")])]),a._v(" "),t("li",[t("code",[a._v("unalias lm")])])])])]),a._v(" "),t("h4",{attrs:{id:"查询命令是否为bash-shell的内置命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询命令是否为bash-shell的内置命令"}},[a._v("#")]),a._v(" 查询命令是否为Bash shell的内置命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-tpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" name\n")])])]),t("h4",{attrs:{id:"命令的执行与快速编辑按钮"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令的执行与快速编辑按钮"}},[a._v("#")]),a._v(" 命令的执行与快速编辑按钮")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /var/spool/mail/root "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /etc/fstab/root\n")])])]),t("p",[a._v("需要注意上述命令中的符号"),t("code",[a._v("\\")]),a._v("，其后面没有空格，如果加上了空格，则反斜杠将转义空格键而不是Enter键。")]),a._v(" "),t("p",[a._v("如果命令行太长并且需要删除时：")]),a._v(" "),t("ul",[t("li",[a._v("ctrl + u：从光标处向前删除")]),a._v(" "),t("li",[a._v("ctrl + k：从光标处向后删除")]),a._v(" "),t("li",[a._v("ctrl + a：将光标移动到最前面")]),a._v(" "),t("li",[a._v("ctrl + e：将光标移动到最后面")])]),a._v(" "),t("h3",{attrs:{id:"shell的变量功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell的变量功能"}},[a._v("#")]),a._v(" Shell的变量功能")]),a._v(" "),t("h4",{attrs:{id:"变量的使用与设置-echo、变量设置规则、unset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量的使用与设置-echo、变量设置规则、unset"}},[a._v("#")]),a._v(" 变量的使用与设置：echo、变量设置规则、unset")]),a._v(" "),t("p",[a._v("当变量被使用时，前面必须加上美元符号"),t("code",[a._v("$")]),a._v("。")]),a._v(" "),t("p",[a._v("显示出环境变量HOME：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("\n")])])]),t("p",[a._v("设置变量：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("myname")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("VBird\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${myname}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# or echo $myname")]),a._v("\n")])])]),t("p",[a._v("变量设置规则：")]),a._v(" "),t("ul",[t("li",[a._v("等号两边不能直接加空格，错误示例："),t("code",[a._v("myname=Vbird Tsai")]),a._v("。")]),a._v(" "),t("li",[a._v("变量只能是英文字母和数字，且开头不能是数字。")]),a._v(" "),t("li",[a._v("变量内容若有空格，可使用单引号或双引号将变量内容结合起来，但：\n"),t("ul",[t("li",[a._v("双引号内的特殊字符如"),t("code",[a._v("$")]),a._v("等，可以保持原有特性，例如："),t("code",[a._v('var = "langis $LANG"')]),a._v("，使用echo输出"),t("code",[a._v("var")]),a._v("得到的内容则为"),t("code",[a._v("lang is zh_CN.UTF-8")]),a._v("。")]),a._v(" "),t("li",[a._v("单引号内的特殊字符则仅为一般字符。")])])]),a._v(" "),t("li",[a._v("可用转义字符"),t("code",[a._v("\\")]),a._v("将特殊符号变为一般字符。")]),a._v(" "),t("li",[a._v("在一串命令执行中，还需要借由其他额外的命令所提供的信息时，可以使用反单引号或"),t("code",[a._v("$(命令)")]),a._v("。例如："),t("code",[a._v("version=$(uname -r)")]),a._v("。")]),a._v(" "),t("li",[a._v("若该变量需要在其他子程序执行，则需要用export来使其变成环境变量。")]),a._v(" "),t("li",[a._v("通常大写变量为系统默认变量，小写变量为自行设置的变量。")]),a._v(" "),t("li",[a._v("取消变量的方法为unset。"),t("code",[a._v("unset myname")]),a._v("。")])]),a._v(" "),t("h4",{attrs:{id:"环境变量的功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境变量的功能"}},[a._v("#")]),a._v(" 环境变量的功能")]),a._v(" "),t("ul",[t("li",[a._v("用"),t("code",[a._v("env")]),a._v("查看环境变量")]),a._v(" "),t("li",[a._v("用"),t("code",[a._v("set")]),a._v("查看所有变量")]),a._v(" "),t("li",[t("code",[a._v("?")]),a._v("是上一个执行命令的返回值")]),a._v(" "),t("li",[t("code",[a._v("PS1")]),a._v("是提示字符的设置")])]),a._v(" "),t("h4",{attrs:{id:"影响显示结果的语系变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#影响显示结果的语系变量"}},[a._v("#")]),a._v(" 影响显示结果的语系变量")]),a._v(" "),t("h4",{attrs:{id:"变量的有效范围"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量的有效范围"}},[a._v("#")]),a._v(" 变量的有效范围")]),a._v(" "),t("h4",{attrs:{id:"变量键盘读取、数组与声明-read、array、declare"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量键盘读取、数组与声明-read、array、declare"}},[a._v("#")]),a._v(" 变量键盘读取、数组与声明：read、array、declare")]),a._v(" "),t("ul",[t("li",[a._v("read")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-pt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" variable\n\n-p: 后面可以接提示字符\n-t: 后面可以接等待的秒数\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Please keyin your name: "')]),a._v(" -t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# example")]),a._v("\n")])])]),t("ul",[t("li",[a._v("declare, typeset")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("declare")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-aixr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" variable\n-a: 将变量定义为数组类型\n-i: 将变量定义为整数类型\n-x: 将变量变成环境变量\n-r: 将变量变为readonly类型，并且不能被unset\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("declare")]),a._v(" -i "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("sum")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("+300+50\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${sum}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 450")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("declare")]),a._v(" +x "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sum")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用+号可以取消操作")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("declare")]),a._v(" -a var\nvar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("lim\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$var")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# lim")]),a._v("\n")])])]),t("h4",{attrs:{id:"与文件系统及程序的限制关系-ulimit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#与文件系统及程序的限制关系-ulimit"}},[a._v("#")]),a._v(" 与文件系统及程序的限制关系：ulimit")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("ulimit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-SHacdfltu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("配额"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n-f: 此shell可以建立的最大文件容量，单位为KB\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("ulimit")]),a._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10240")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 只能建立10MB以下的文件")]),a._v("\n")])])]),t("h4",{attrs:{id:"变量内容的删除、取代与替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量内容的删除、取代与替换"}},[a._v("#")]),a._v(" 变量内容的删除、取代与替换")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("#")]),a._v("：符合替换文字的最短的那一个")]),a._v(" "),t("li",[t("code",[a._v("##")]),a._v("：符合替换文字的最长的那一个")]),a._v(" "),t("li",[t("code",[a._v("%")]),a._v("：从后往前替换最短的一个")]),a._v(" "),t("li",[t("code",[a._v("%%")]),a._v("：从后往前替换最长的一个")]),a._v(" "),t("li",[t("code",[a._v("/")]),a._v(" ：替换第一个字符串")]),a._v(" "),t("li",[t("code",[a._v("//")]),a._v("：替换所有字符串")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("}")]),a._v("\n$ ehco "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path}")]),a._v("\n/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/dmtsai/.local/bin:/home/dmtsai/bin\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("*local"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("}")]),a._v("\n/usr/bin:/usr/local/sbin:/usr/sbin:/home/dmtsai/.local/bin:/home/dmtsai/bin\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("##")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("*}")]),a._v("\n/home/dmtsai/bin\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("*bin}")]),a._v("\n/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/dmtsai/.local/bin\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%%")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("*bin}")]),a._v("\n/usr/local/bin\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sbin"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("SBIN}")]),a._v("\n/usr/local/bin:/usr/bin:/usr/local/SBIN:/usr/sbin:/home/dmtsai/.local/bin:/home/dmtsai/bin\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sbin"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("SBIN}")]),a._v("\n/usr/local/bin:/usr/bin:/usr/local/SBIN:/usr/SBIN:/home/dmtsai/.local/bin:/home/dmtsai/bin\n")])])]),t("ul",[t("li",[a._v("使用"),t("code",[a._v("-")]),a._v("测试变量是否存在")]),a._v(" "),t("li",[a._v("使用"),t("code",[a._v(":-")]),a._v("设置不存在或者空变量")]),a._v(" "),t("li",[t("code",[a._v("+")]),a._v("与"),t("code",[a._v("-")]),a._v("相反")]),a._v(" "),t("li",[t("code",[a._v(":+")]),a._v("与"),t("code",[a._v(":-")]),a._v("相反")]),a._v(" "),t("li",[a._v("还有"),t("code",[a._v("=")]),a._v("、"),t("code",[a._v(":=")]),a._v("、"),t("code",[a._v("?")]),a._v("、"),t("code",[a._v(":?")])]),a._v(" "),t("li",[t("code",[a._v("=")]),a._v("会影响旧变量的内容")]),a._v(" "),t("li",[a._v("当旧变量不存在时"),t("code",[a._v("?")]),a._v("会报错")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${username}")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 出现空白，变量可能为空或者不存在")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${username-root}")]),a._v("\nroot "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 因为没有设置username，所以主动给予内容root")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"lim"')]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${username-root}")]),a._v("\nlim  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 因为设置了username，所以不会替换")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${username"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":-")]),a._v("root}")]),a._v("\nroot "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# :-会替换空字符变量")]),a._v("\n")])])]),t("h3",{attrs:{id:"命令别名与历史命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令别名与历史命令"}},[a._v("#")]),a._v(" 命令别名与历史命令")])])}),[],!1,null,null,null);s.default=n.exports}}]);