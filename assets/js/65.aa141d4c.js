(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{465:function(e,l,t){"use strict";t.r(l);var r=t(46),a=Object(r.a)({},(function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"webpack常见配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack常见配置"}},[e._v("#")]),e._v(" webpack常见配置")]),e._v(" "),t("p",[e._v("通过vue cli创建出来的项目以及有事先设定好的一些webpack配置，可以通过vue提供的命令"),t("code",[e._v("vue inspect")]),e._v("进行查看，详见"),t("RouterLink",{attrs:{to:"/Web/[https://cli.vuejs.org/zh/guide/webpack.html#简单的配置方式](https://cli.vuejs.org/zh/guide/webpack.html#简单的配置方式)"}},[e._v("vue cli官网")]),e._v("。在这里简要分析一下一些常见loader、plugin的作用，帮助大家日后能够了解如何取扩展和配置webpack环境。为了有更加直观的了解，请看我的基于webpack 3配置搭建的"),t("a",{attrs:{href:"https://github.com/Limsanity/Clash-Royale-PWA/blob/master/build/",target:"_blank",rel:"noopener noreferrer"}},[e._v("项目"),t("OutboundLink")],1)],1),e._v(" "),t("h2",{attrs:{id:"loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[e._v("#")]),e._v(" Loader")]),e._v(" "),t("ul",[t("li",[e._v("eslint-loader：检测代码规范，要在babel-loader前启用，添加"),t("code",[e._v("enforce: 'pre'")]),e._v("即可，其检查的规范配置文件是项目中的"),t("code",[e._v(".eslintrc.js")]),e._v("。")]),e._v(" "),t("li",[e._v("babel-loader：转译js代码，使得一些低版本的浏览器也能运行开发者写的高级特性的js代码，配置文件是项目中的"),t("code",[e._v(".babelrc")]),e._v("，建议换成"),t("code",[e._v("babel.config.js")]),e._v("（参考Vue CLI），babel配置文件相关的有preset(预设)，plugins(plugin-transform-runtime)，对于babel的了解，可以参考"),t("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/01/babel.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("babel入门教程"),t("OutboundLink")],1),e._v("。注意babel-loader不要作用于node_modules模块，因为它的转译很慢，参考webpack配置和vue cli，可以配合cache-loader对转译的结果进行缓存。")]),e._v(" "),t("li",[e._v("vue-loader：解析.vue文件，支持开发者进行单文件组件的开发模式，其中的vue-style-loader能够将css样式内联进html模版中，同时它在SSR服务端渲染方面也有很大的作用。")]),e._v(" "),t("li",[e._v("css-loader：处理import的css文件，处理的结果为字符串，vue-style-loader或style-laoder可以将其内联进html中。")]),e._v(" "),t("li",[e._v("MiniCssExtractPlugin.loader：提取css到单独的css文件中，通常在生产环境下才进行css提取，提取css到单独的文件可以更好的利用缓存机制。")]),e._v(" "),t("li",[e._v("stylus-loader：处理stylus类型的css预处理器，类似的还有其他的css与处理器loader")])]),e._v(" "),t("h2",{attrs:{id:"plugins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[e._v("#")]),e._v(" Plugins")]),e._v(" "),t("ul",[t("li",[e._v("HtmlWebpackPlugin：可以为其指定一个html模版，每次webpack打包完成都会将处理完的资源插入到该html模版中，该插件用处非常棒，例如现代模式构建处理Safari重复下载资源的bug时，就是通过一个plugin配合HtmlWebpackPlugin进行html字符串处理。")]),e._v(" "),t("li",[e._v("CopyWebpackPlugin：将指定文件复制到webpack指定的输出路径下")]),e._v(" "),t("li",[e._v("webpack.ProvidePlugin：全局注入变量，对于一些vuex的mapState等方法在很多页面都会使用到，通过全局注入变量，无需在每个页面进行import。为了解决eslint带来的未定义变量的使用的错误提示，要在"),t("code",[e._v(".eslintrc")]),e._v("文件中添加一些规则限制，请见项目中的"),t("code",[e._v(".eslintrc")])]),e._v(" "),t("li",[e._v("AutoDllPlugin：生成DLL库，将一些不常见的第三方库单独打包至一个文件中，无需每次构建都打包一次，从而提升打包构建的速度，该配置请看另一个"),t("a",{attrs:{href:"https://github.com/earnsparemoney/frontend",target:"_blank",rel:"noopener noreferrer"}},[e._v("项目"),t("OutboundLink")],1),e._v("中的vue.config.js文件。")]),e._v(" "),t("li",[e._v("AddAssetHtmlPlugin：将指定的资源插入到html文件中，解决一些未被webpack处理的资源无法自动内联到html中的问题。")]),e._v(" "),t("li",[e._v("workboxPlugin：一个用于快速开发PWA应用的库，详见"),t("a",{attrs:{href:"https://developers.google.com/web/tools/workbox/guides/get-started",target:"_blank",rel:"noopener noreferrer"}},[e._v("workbox"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("li",[e._v("CleanWebpackPlugin：在构建前将删除指定文件夹，用于每次build的时候，即生产环境。")]),e._v(" "),t("li",[e._v("MiniCssExtractPlugin：可以指明提取出来的css的文件名称，还有更多其他配置。")]),e._v(" "),t("li",[e._v("DefinePlugin：定义一些运行时变量，例如process.env。")]),e._v(" "),t("li",[e._v("vue-server-render plugin：vue服务端渲染相关插件。")])]),e._v(" "),t("h2",{attrs:{id:"其他配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他配置"}},[e._v("#")]),e._v(" 其他配置")]),e._v(" "),t("ul",[t("li",[e._v("webpack dev server：用于开发环境下的服务器，能够将webpack处理后的资源用该服务器进行响应，提升开发效率，其还提供了热更新、代理等有用的配置")]),e._v(" "),t("li",[e._v("optimization："),t("code",[e._v("runtimeChunk: 'single'")]),e._v("将webpack运行时代码提取到一个文件中，optimization常用于提取node_modules下的库。")])])])}),[],!1,null,null,null);l.default=a.exports}}]);